<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Refresher: Tidy Exploratory Data Analysis</title>

<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.22/datatables.js"></script>
<link href="site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<!-- Font Awesome -->
<!-- <link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" /> -->
<!-- <script src="https://use.fontawesome.com/54ee8c2dfd.js"></script> -->

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic|Oswald:400,700' rel='stylesheet' type='text/css'>

<!-- Favicon -->
<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">

<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-8298649-8', 'auto');
  ga('send', 'pageview');
</script>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">BIODATASCI</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="setup.html">
    <span class="fa fa-cog"></span>
     
    Setup
  </a>
</li>
<li>
  <a href="data.html">
    <span class="fa fa-download"></span>
     
    Data
  </a>
</li>
<li>
  <a href="syllabus.html">
    <span class="fa fa-graduation-cap"></span>
     
    Syllabus
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-university"></span>
     
    Course Material
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="syllabus.html">
        <span class="fa fa-graduation-cap"></span>
         
        Syllabus
      </a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">--- Lessons ---</li>
    <li>
      <a href="r-basics.html">R Basics</a>
    </li>
    <li>
      <a href="r-dataframes.html">Data Frames</a>
    </li>
    <li>
      <a href="r-dplyr-yeast.html">Data Manipulation</a>
    </li>
    <li>
      <a href="r-tidy.html">Tidying data</a>
    </li>
    <li>
      <a href="r-viz-gapminder.html">Data Visualization</a>
    </li>
    <li>
      <a href="r-refresher-tidy-eda.html">Refresher: Tidy EDA</a>
    </li>
    <li>
      <a href="r-rmarkdown.html">Reproducible Research &amp; RMarkdown</a>
    </li>
    <li>
      <a href="r-stats.html">Essential Statistics</a>
    </li>
    <li>
      <a href="r-survival.html">Survival Analysis</a>
    </li>
    <li>
      <a href="r-predictive-modeling.html">Predictive Analytics &amp; Forecasting Influenza</a>
    </li>
    <li>
      <a href="r-textmining.html">Text Mining</a>
    </li>
    <li>
      <a href="r-rnaseq-airway.html">RNA-seq</a>
    </li>
    <li>
      <a href="r-ggtree.html">Phylogenetic trees with R</a>
    </li>
    <li class="dropdown-header">--- Homework ---</li>
    <li>
      <a href="r-dplyr-homework.html">Data Manipulation</a>
    </li>
    <li>
      <a href="r-viz-homework.html">Data Visualization</a>
    </li>
    <li>
      <a href="r-rmarkdown-homework.html">Reproducible Research &amp; RMarkdown</a>
    </li>
    <li>
      <a href="r-stats-homework.html">Essential Statistics</a>
    </li>
    <li>
      <a href="r-rnaseq-homework.html">RNA-seq</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-question fa-lg"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="people.html">People</a>
    </li>
    <li>
      <a href="help.html">Further resources</a>
    </li>
    <li>
      <a href="https://github.com/stephenturner/workshops">Source code for this site</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Refresher: Tidy Exploratory Data Analysis</h1>

</div>


<div id="class-overview" class="section level2">
<h2>Class overview</h2>
<p>This is a refresher class designed to be completed after completing the following lessons:</p>
<ul>
<li><a href="r-basics.html">R Basics</a></li>
<li><a href="r-dataframes.html">Data frames</a></li>
<li><a href="r-dplyr-yeast.html">Manipulating and analyzing data with <strong>dplyr</strong></a> (and the associated <a href="r-dplyr-homework.html">homework</a>)</li>
<li><a href="r-tidy.html">Tidying data with <strong>tidyr</strong></a></li>
<li><a href="r-viz-gapminder.html">Data visualization with <strong>ggplot2</strong></a> (and the associated <a href="r-viz-homework.html">homework</a>)</li>
</ul>
<p>The data and analyses here were inspired by the <a href="https://github.com/rfordatascience/tidytuesday">Tidy Tuesday</a> project – a weekly social data project in R from the <a href="https://r4ds.had.co.nz/">R for Data Science</a> online learning community <a href="https://twitter.com/R4DScommunity">@R4DScommunity</a>.</p>
<p>We’re going to use two different data sets. One containing data on movie budgets and profits that was featured in a FiveThirtyEight article on horror movies and profits, and another with data on college majors and income from the American Community Survey.</p>
<p>Packages needed for this analysis are loaded below. If you don’t have one of these packages installed, simply install it once using <code>install.packages("PackageName")</code>. A quick note on the <strong>tidyverse</strong> package (<a href="https://www.tidyverse.org/" class="uri">https://www.tidyverse.org/</a>): the tidyverse is a collection of other packages that are often used together. When you install or load tidyverse, you also install and load all the packages that we’ve used previously: dplyr, tidyr, ggplot2, as well as several others. Because we’ll be using so many different packages from the tidyverse collection, it’s more efficient load this “meta-package” rather than loading each individual package separately.</p>
<pre class="r"><code>library(tidyverse)
library(ggrepel)
library(scales)
library(lubridate)</code></pre>
<p>I’ll demonstrate some functionality from these other packages. They’re handy to have installed, but are not strictly required.</p>
<pre class="r"><code>library(plotly)
library(DT)</code></pre>
</div>
<div id="horror-movies-profit" class="section level2">
<h2>Horror Movies &amp; Profit</h2>
<div id="about-the-data" class="section level3">
<h3>About the data</h3>
<p>The raw data can be downloaded here: <strong><a href="data/movies.csv">movies.csv</a></strong>.</p>
<p>This data was featured in the FiveThirtyEight article, <a href="https://fivethirtyeight.com/features/scary-movies-are-the-best-investment-in-hollywood/">“Scary Movies Are The Best Investment In Hollywood”</a>.</p>
<blockquote>
<p>"Horror movies get nowhere near as much draw at the box office as the big-time summer blockbusters or action/adventure movies – the horror genre accounts for only 3.7 percent of the total box-office haul this year – but there’s a huge incentive for studios to continue pushing them out.</p>
<p>The return-on-investment potential for horror movies is absurd. For example, “Paranormal Activity” was made for $450,000 and pulled in $194 million – 431 times the original budget. That’s an extreme, I-invested-in-Microsoft-when-Bill-Gates-was-working-in-a-garage case, but it’s not rare. And that’s what makes horror such a compelling genre to produce."</p>
</blockquote>
<p>– Quote from <a href="https://twitter.com/WaltHickey">Walt Hickey</a> for fivethirtyeight article.</p>
<p>Data dictionary (data from <a href="https://www.the-numbers.com/">the-numbers.com</a>):</p>
<table>
<thead>
<tr class="header">
<th align="left">Header</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>release_date</code></td>
<td align="left">month-day-year</td>
</tr>
<tr class="even">
<td align="left"><code>movie</code></td>
<td align="left">Movie title</td>
</tr>
<tr class="odd">
<td align="left"><code>production_budget</code></td>
<td align="left">Money spent to create the film</td>
</tr>
<tr class="even">
<td align="left"><code>domestic_gross</code></td>
<td align="left">Gross revenue from USA</td>
</tr>
<tr class="odd">
<td align="left"><code>worldwide_gross</code></td>
<td align="left">Gross worldwide revenue</td>
</tr>
<tr class="even">
<td align="left"><code>distributor</code></td>
<td align="left">The distribution company</td>
</tr>
<tr class="odd">
<td align="left"><code>mpaa_rating</code></td>
<td align="left">Appropriate age rating by the US-based rating agency</td>
</tr>
<tr class="even">
<td align="left"><code>genre</code></td>
<td align="left">Film category</td>
</tr>
</tbody>
</table>
</div>
<div id="import-and-clean" class="section level3">
<h3>Import and clean</h3>
<p>If you haven’t already loaded the packages we need, go ahead and do that now.</p>
<pre class="r"><code>library(tidyverse)
library(ggrepel)
library(scales)
library(lubridate)</code></pre>
<p>Now, use the <code>read_csv()</code> function from <strong>readr</strong> (loaded when you load <strong>tidyverse</strong>), to read in the <strong><a href="data/movies.csv">movies.csv</a></strong> dataset into a new object called <code>mov_raw</code>.</p>
<pre class="r"><code>mov_raw &lt;- read_csv(&quot;data/movies.csv&quot;)
mov_raw</code></pre>
<p>Let’s clean up the data a bit. Remember, construct your pipeline one step at a time first. Once you’re happy with the result, assign the results to a new object, <code>mov</code>.</p>
<ul>
<li>Get rid of the blank <code>X1</code> Variable.</li>
<li>Change release date into an actual date.</li>
<li>Calculate the return on investment as the <code>worldwide_gross/production_budget</code>.</li>
<li>Calculate the percentage of total gross as domestic revenue.</li>
<li>Get the year, month, and day out of the release date.</li>
<li>Remove rows where the revenue is $0 (unreleased movies, or data integrity problems), and remove rows missing information about the distributor. Go ahead and remove any data where the rating is unavailable also.</li>
</ul>
<pre class="r"><code>mov &lt;- mov_raw %&gt;%
  select(-...1) %&gt;%
  mutate(release_date = mdy(release_date)) %&gt;%
  mutate(roi = worldwide_gross / production_budget) %&gt;%
  mutate(pct_domestic = domestic_gross / worldwide_gross) %&gt;%
  mutate(year = year(release_date)) %&gt;% 
  mutate(month = month(release_date, label = TRUE)) %&gt;% 
  mutate(day = wday(release_date, label = TRUE)) %&gt;% 
  arrange(desc(release_date)) %&gt;%
  filter(worldwide_gross &gt; 0) %&gt;%
  filter(!is.na(distributor)) %&gt;%
  filter(!is.na(mpaa_rating))
mov</code></pre>
<p>Let’s take a look at the distribution of release date.</p>
<pre class="r"><code>ggplot(mov, aes(year)) + geom_histogram(bins=40)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-6-1.png" width="816" /></p>
<p>There doesn’t appear to be much documented berfore 1975, so let’s restrict (read: filter) the dataset to movies made since 1975. Also, we’re going to be doing some analyses by year, and since the data for 2018 is still incomplete, let’s remove all of 2018. Let’s get anything produced in 1975 and after (<code>&gt;=1975</code>) but before 2018 (<code>&lt;2018</code>). Add the final filter statement to the assignment, and make the plot again.</p>
<pre class="r"><code>mov &lt;- mov_raw %&gt;%
  select(-...1) %&gt;%
  mutate(release_date = mdy(release_date)) %&gt;%
  mutate(roi = worldwide_gross / production_budget) %&gt;%
  mutate(pct_domestic = domestic_gross / worldwide_gross) %&gt;%
  mutate(year = year(release_date)) %&gt;% 
  mutate(month = month(release_date, label = TRUE)) %&gt;% 
  mutate(day = wday(release_date, label = TRUE)) %&gt;% 
  arrange(desc(release_date)) %&gt;%
  filter(worldwide_gross &gt; 0) %&gt;%
  filter(!is.na(distributor)) %&gt;%
  filter(!is.na(mpaa_rating)) %&gt;% 
  filter(year&gt;=1975 &amp; year &lt;2018)
mov</code></pre>
</div>
<div id="exploratory-data-analysis" class="section level3">
<h3>Exploratory Data Analysis</h3>
<p>Which days are movies released on? The dplyr <code>count()</code> function counts the number of occurances of a particular variable. It’s shorthand for a <code>group_by()</code> followed by <code>summarize(n=n())</code>. The <code>geom_col()</code> makes a bar chart where the height of the bar is the count of the number of cases, y, at each x position. Feel free to add labels if you want.</p>
<pre class="r"><code>mov %&gt;% 
  count(day, sort=TRUE) %&gt;% 
  ggplot(aes(day, n)) + 
  geom_col() + 
  labs(x=&quot;&quot;, y=&quot;Number of movies released&quot;, 
       title=&quot;Which days are movies released on?&quot;, 
       caption=&quot;Adapted from @jaseziv&quot;) + 
  theme_classic()</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/release-days-1.png" width="816" /></p>
<hr />
<p><strong>EXERCISE 1</strong></p>
<p>Does the day a movie is release affect revenue? Make a boxplot showing the worldwide gross revenue for each day.</p>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-7-1.png" width="816" /></p>
<hr />
<p>What about month? Just swap <code>day</code> for <code>month</code> in the code.</p>
<pre class="r"><code>mov %&gt;% 
  ggplot(aes(month, worldwide_gross)) + 
  geom_boxplot(col=&quot;gray10&quot;, fill=&quot;gray90&quot;) + 
  scale_y_log10(labels=dollar_format()) +
  labs(x=&quot;Release month&quot;,
       y=&quot;Worldwide gross revenue&quot;, 
       title=&quot;Does the day a movie is release affect revenue?&quot;, 
       caption=&quot;Adapted from @jaseziv&quot;) + 
  theme_classic()</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/revenue-by-month-1.png" width="816" /></p>
<p>We could also get a quantitative look at the average revenue by day using a group-by summarize operation:</p>
<pre class="r"><code>mov %&gt;% 
  group_by(day) %&gt;% 
  summarize(rev=mean(worldwide_gross))</code></pre>
<pre><code>## # A tibble: 7 × 2
##   day          rev
##   &lt;ord&gt;      &lt;dbl&gt;
## 1 Sun    70256412.
## 2 Mon   141521289.
## 3 Tue   177233110.
## 4 Wed   130794183.
## 5 Thu   194466996.
## 6 Fri    90769834.
## 7 Sat    89889497.</code></pre>
<p>It looks like summer months and holiday months at the end of the year fare well. Let’s look at a table and run a regression analysis.</p>
<pre class="r"><code>mov %&gt;% 
  group_by(month) %&gt;% 
  summarize(rev=mean(worldwide_gross))</code></pre>
<pre class="r"><code>mov %&gt;% 
  mutate(month=factor(month, ordered=FALSE)) %&gt;% 
  lm(worldwide_gross~month, data=.) %&gt;% 
  summary()</code></pre>
<p>What does the worldwide movie market look like by decade? Let’s first group by year and genre and compute the sum of the worldwide gross revenue. After we do that, let’s plot a barplot showing year on the x-axis and the sum of the revenue on the y-axis, where we’re passing the genre variable to the <code>fill</code> aesthetic of the bar.</p>
<pre class="r"><code>mov %&gt;% 
  group_by(year, genre) %&gt;% 
  summarize(revenue=sum(worldwide_gross)) %&gt;% 
  ggplot(aes(year, revenue)) + 
  geom_col(aes(fill=genre)) + 
  scale_y_continuous(labels=dollar_format()) + 
  labs(x=&quot;&quot;, y=&quot;Worldwide revenue&quot;, title=&quot;Worldwide Film Market by Decade&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/total-market-by-year-1.png" width="816" /></p>
<p>Which distributors produce the highest grossing movies by genre? First let’s lump all distributors together into 5 major distributors with the most movies, lumping all others into an “Other” category. The <code>fct_lump</code> function from the <strong>forcats</strong> package (loaded with <strong>tidyverse</strong>) will do this for you. Take a look at just that result first. Then let’s plot a <code>geom_col()</code>, which plots the actual value of the thing we put on the y-axis (worldwide gross revenue in this case). Because <code>geom_col()</code> puts all the values on top of one another, the highest value will be the one displayed. Let’s add <code>position="dodge"</code> so they’re beside one another instead of stacked. We can continue to add additional things to make the plot pretty. I like the look of this better when we flip the coordinate system with <code>coord_flip()</code>.</p>
<pre class="r"><code>mov %&gt;% 
  mutate(distributor=fct_lump(distributor, 5)) %&gt;% 
  ggplot(aes(distributor, worldwide_gross)) + geom_col(aes(fill=genre), position=&quot;dodge&quot;) + 
  scale_y_continuous(labels = dollar_format()) + 
  labs(x=&quot;&quot;,
       y=&quot;Worldwide revenue&quot;, 
       title=&quot;Which distributors produce the highest grossing movies by genre?&quot;,
       caption=&quot;Adapted from @JamesCBorders&quot;) + 
  coord_flip()</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/highest-grossing-by-genre-by-distrib-1.png" width="816" /></p>
<p>It looks like Universal made the highest-grossing action and adventure movies, while Warner Bros made the highest grossing horror movies.</p>
<p>But what about return on investment?</p>
<pre class="r"><code>mov %&gt;% 
  group_by(genre) %&gt;% 
  summarize(roi=mean(roi))</code></pre>
<pre><code>## # A tibble: 5 × 2
##   genre       roi
##   &lt;chr&gt;     &lt;dbl&gt;
## 1 Action     2.82
## 2 Adventure  3.60
## 3 Comedy     3.48
## 4 Drama      3.40
## 5 Horror    11.2</code></pre>
<p>It looks like horror movies have overwhelmingly the highest return on investment. Let’s look at this across the top distributors.</p>
<hr />
<p><strong>EXERCISE 2</strong></p>
<p>Modify the code above to look at return on investment instead of worldwide gross revenue.</p>
<p><img src="r-refresher-tidy-eda_files/figure-html/highest-roi-by-genre-by-distrib-1.png" width="816" /></p>
<hr />
<p>Let’s make a scatter plot showing the worldwide gross revenue over the production budget. Let’s make the size of the point relative to the ROI. Let’s add a “breakeven” line that has a slope of 1 and a y-intercept of zero. Let’s facet by genre.</p>
<pre class="r"><code>mov %&gt;%
  ggplot(aes(production_budget, worldwide_gross)) +
  geom_point(aes(size = roi)) +
  geom_abline(slope = 1, intercept = 0, col = &quot;red&quot;) +
  facet_wrap( ~ genre) +
  scale_x_log10(labels = dollar_format()) +
  scale_y_log10(labels = dollar_format()) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  labs(x = &quot;Production Budget&quot;, 
       y = &quot;Worldwide gross revenue&quot;, 
       size = &quot;Return on Investment&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/scatter-rev-by-budget-1.png" width="960" /></p>
<p>Generally most of the points lie above the “breakeven” line. This is good – if movies weren’t profitable they wouldn’t keep making them. Proportionally there seem to be many more larger points in the Horror genre, indicative of higher ROI.</p>
<p>Let’s create a faceted grid showing distributor by genre. Paramount and Other distributors have the largest share of low-budget high-revenue horror films.</p>
<pre class="r"><code>mov %&gt;%
  mutate(distributor = fct_lump(distributor, 5)) %&gt;%
  ggplot(aes(production_budget, worldwide_gross)) +
  geom_point(aes(size = roi)) +
  geom_abline(slope = 1, intercept = 0) +
  facet_grid(distributor ~ genre) +
  scale_x_log10(labels = dollar_format()) + 
  scale_y_log10(labels = dollar_format()) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  labs(x = &quot;Production Budget&quot;, 
       y = &quot;Worldwide gross revenue&quot;, 
       size = &quot;Return on Investment&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/scatter-rev-by-budget-grid-1.png" width="960" /></p>
<p>What were those super profitable movies? Looks like they’re mostly horror movies. One thing that’s helpful to do here is to make movies a factor variable, reordering its levels by the median ROI. Look at the help for <code>?fct_reorder</code> for this. I also like to <code>coord_flip()</code> this plot.</p>
<pre class="r"><code>mov %&gt;% 
  arrange(desc(roi)) %&gt;% 
  head(20) %&gt;% 
  mutate(movie=fct_reorder(movie, roi)) %&gt;%
  ggplot(aes(movie, roi)) +
  geom_col(aes(fill=genre)) + 
  labs(x=&quot;Movie&quot;, 
       y=&quot;Return On Investment&quot;, 
       title=&quot;Top 20 most profitable movies&quot;, 
       caption=&quot;Adapted from @DaveBloom11&quot;) + 
  coord_flip() + 
  geom_text(aes(label=paste0(round(roi), &quot;x &quot;), hjust=1), col=&quot;white&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/bar-most-profitable-movies-1.png" width="816" /></p>
<p>It might be informative to run the same analysis for movies that had either exclusive US distribution, or no US distribution at all. We could simply filter for movies with 100% of the revenue coming from domestic gross revenue US only, or 0% from domestic (no US distribution). Just add a filter statement in the pipeline prior to plotting.</p>
<pre class="r"><code>mov %&gt;% 
  filter(pct_domestic==1) %&gt;% 
  arrange(desc(roi)) %&gt;% 
  head(20) %&gt;% 
  mutate(movie=fct_reorder(movie, roi)) %&gt;% 
  ggplot(aes(movie, roi)) +
  geom_col(aes(fill=genre)) + 
  labs(x=&quot;Movie&quot;, 
       y=&quot;Return On Investment&quot;, 
       title=&quot;Top 20 most profitable movies with US-only distribution&quot;, 
       caption=&quot;Adapted from @DaveBloom11&quot;) + 
  coord_flip() + 
  geom_text(aes(label=paste0(round(roi), &quot;x &quot;), hjust=1), col=&quot;white&quot;)</code></pre>
<pre class="r"><code>mov %&gt;% 
  filter(pct_domestic==0) %&gt;% 
  arrange(desc(roi)) %&gt;% 
  head(20) %&gt;% 
  mutate(movie=fct_reorder(movie, roi)) %&gt;% 
  ggplot(aes(movie, roi)) +
  geom_col(aes(fill=genre)) + 
  labs(x=&quot;Movie&quot;, 
       y=&quot;Return On Investment&quot;, 
       title=&quot;Top 20 most profitable movies with no US distribution&quot;, 
       caption=&quot;Adapted from @DaveBloom11&quot;) + 
  coord_flip()</code></pre>
<p>What about movie ratings? R-rated movies have a lower average revenue but ROI isn’t substantially less. The <code>n()</code> function is a helper function that just returns the number of rows for each group in a grouped data frame. We can see that while G-rated movies have the highest mean revenue, there were relatively few of them produced, and had a lower total revenue. There were more R-rated movies, but PG-13 movies really drove the total revenue worldwide.</p>
<pre class="r"><code>mov %&gt;%
  group_by(mpaa_rating) %&gt;%
  summarize(
    meanrev = mean(worldwide_gross),
    totrev = sum(worldwide_gross),
    roi = mean(roi),
    number = n()
  )</code></pre>
<pre><code>## # A tibble: 4 × 5
##   mpaa_rating    meanrev       totrev   roi number
##   &lt;chr&gt;            &lt;dbl&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;int&gt;
## 1 G           189913348   13863674404  4.42     73
## 2 PG          147227422.  78324988428  4.64    532
## 3 PG-13       113477939. 120173136920  3.06   1059
## 4 R            63627931.  92451383780  4.42   1453</code></pre>
<p>Are there fewer R-rated movies being produced? Not really. Let’s look at the overall number of movies with any particular rating faceted by genre.</p>
<pre class="r"><code>mov %&gt;% 
  count(mpaa_rating, genre) %&gt;% 
  ggplot(aes(mpaa_rating, n)) + 
  geom_col() + 
  facet_wrap(~genre) +
  labs(x=&quot;MPAA Rating&quot;,
       y=&quot;Number of films&quot;, 
       title=&quot;Number of films by rating for each genre&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/number-movies-by-genre-by-rating-1.png" width="816" /></p>
<p>What about the distributions of ratings?</p>
<pre class="r"><code>mov %&gt;% 
  ggplot(aes(worldwide_gross)) + 
  geom_histogram() + 
  facet_wrap(~mpaa_rating) + 
  scale_x_log10(labels=dollar_format()) + 
  labs(x=&quot;Worldwide gross revenue&quot;, 
       y=&quot;Count&quot;,
       title=&quot;Distribution of revenue by genre&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/dist-movies-by-ratings-1.png" width="816" /></p>
<pre class="r"><code>mov %&gt;% 
  ggplot(aes(mpaa_rating, worldwide_gross)) + 
  geom_boxplot(col=&quot;gray10&quot;, fill=&quot;gray90&quot;) + 
  scale_y_log10(labels=dollar_format()) + 
  labs(x=&quot;MPAA Rating&quot;, y=&quot;Worldwide gross revenue&quot;, title=&quot;Revenue by rating&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/boxplot-revenue-by-ratings-1.png" width="816" /></p>
<p>But, dont be fooled. Yes, on average G-rated movies look to perform better. But there aren’t that many of them being produced, and they aren’t bringing in the lions share of revenue.</p>
<pre class="r"><code>mov %&gt;% 
  count(mpaa_rating) %&gt;% 
  ggplot(aes(mpaa_rating, n)) + 
  geom_col() + 
  labs(x=&quot;MPAA Rating&quot;, 
       y=&quot;Count&quot;,
       title=&quot;Total number of movies produced for each rating&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/count-ratings-1.png" width="816" /></p>
<pre class="r"><code>mov %&gt;% 
  group_by(mpaa_rating) %&gt;% 
  summarize(total_revenue=sum(worldwide_gross)) %&gt;% 
  ggplot(aes(mpaa_rating, total_revenue)) + 
  geom_col() + 
  scale_y_continuous(label=dollar_format()) + 
  labs(x=&quot;MPAA Rating&quot;, 
       y=&quot;Total worldwide revenue&quot;,
       title=&quot;Total worldwide revenue for each rating&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/total-revenue-by-rating-1.png" width="816" /></p>
</div>
<div id="join-to-imdb-reviews" class="section level3">
<h3>Join to IMDB reviews</h3>
<p>Look back at the <a href="https://dplyr.tidyverse.org/reference/join.html">dplyr reference on joins</a>. An inner join lets you take two tables, match by a common column (or columns), and return rows with an entry in both, returning all columns in each table. I’ve downloaded all the data underlying IMDB (<a href="https://www.imdb.com/interfaces/">imdb.com/interfaces</a>), and created a reduced dataset having ratings for all the movies in IMDB. Let’s join the movie data we have here with IMDB ratings. Download the data here: <strong><a href="data/movies_imdb.csv">movies_imdb.csv</a></strong>. Once you’ve downloaded it, read it in with <code>read_csv()</code>:</p>
<pre class="r"><code>imdb &lt;- read_csv(&quot;data/movies_imdb.csv&quot;)
imdb</code></pre>
<p>There are <strong>177,519</strong> movies in this dataset. There are <strong>3,117</strong> movies in the data we’ve already been using. Let’s see how many we have that intersect in both:</p>
<pre class="r"><code>movimdb &lt;- inner_join(mov, imdb, by=&quot;movie&quot;)
movimdb</code></pre>
<p>It turns out there are only <strong>2,591</strong> rows in the joined dataset. That’s because there were some rows in <code>mov</code> that weren’t in <code>imdb</code>, and vice versa. Some of these are truly cases where there isn’t an entry in one. Others are cases where it’s <code>Star Wars Ep. I: The Phantom Menace</code> in one dataset but <code>Star Wars: Episode I - The Phantom Menace</code> in another, or <code>Mr. &amp; Mrs. Smith</code> versus <code>Mr. and Mrs. Smith</code>. Others might be ascii versus unicode text incompatibility, e.g. the hyphen “-” versus the endash, “–”.</p>
<p>Now that you have the datasets joined, try a few more exercises!</p>
<hr />
<p><strong>EXERCISE 3</strong></p>
<ol style="list-style-type: decimal">
<li>Separately for each MPAA rating, display the mean IMDB rating and mean number of votes cast.</li>
</ol>
<pre><code>## # A tibble: 4 × 3
##   mpaa_rating meanimdb meanvotes
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;
## 1 G               6.54   132015.
## 2 PG              6.31    81841.
## 3 PG-13           6.25   102740.
## 4 R               6.58   107575.</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Do the same but for each movie genre.</li>
</ol>
<pre><code>## # A tibble: 5 × 3
##   genre     meanimdb meanvotes
##   &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;
## 1 Action        6.28   154681.
## 2 Adventure     6.27   130027.
## 3 Comedy        6.08    71288.
## 4 Drama         6.88    91101.
## 5 Horror        5.90    89890.</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Do the same but for each distributor, after lumping distributors in a mutate statement to the top 4 distributors, as we’ve done before.</li>
</ol>
<pre><code>## # A tibble: 5 × 3
##   distributor        meanimdb meanvotes
##   &lt;fct&gt;                 &lt;dbl&gt;     &lt;dbl&gt;
## 1 Paramount Pictures     6.44   130546.
## 2 Sony Pictures          6.25   111913.
## 3 Universal              6.44   130028.
## 4 Warner Bros.           6.37   133997.
## 5 Other                  6.46    86070.</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Create a boxplot visually summarizing what you saw in #1 and #2 above. That is, show the distribution of IMDB ratings for each genre, but map the fill aesthetic for the boxplot onto the MPAA rating. Here we can see that Dramas tend to get a higher IMDB rating overall. Across most categories R rated movies fare better. We also see from this that there are no Action or Horror movies rated G (understandably!). In fact, after this I actually wanted to see what the “Horror” movies were having a PG rating that seemed to do better than PG-13 or R rated Horror movies.</li>
</ol>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-20-1.png" width="816" /></p>
<pre class="r"><code>movimdb %&gt;% 
  filter(mpaa_rating==&quot;PG&quot;, genre==&quot;Horror&quot;) %&gt;% 
  select(release_date, movie, worldwide_gross, imdb, votes)</code></pre>
<pre><code>## # A tibble: 5 × 5
##   release_date movie                    worldwide_gross  imdb  votes
##   &lt;date&gt;       &lt;chr&gt;                              &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 2015-10-16   Goosebumps                     158905324   6.3  67744
## 2 1983-06-24   Twilight Zone: The Movie        29500000   6.5  29313
## 3 1982-06-04   Poltergeist                    121706019   7.4 124178
## 4 1978-06-16   Jaws 2                         208900376   5.7  61131
## 5 1975-06-20   Jaws                           470700000   8   492525</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Create a scatter plot of worldwide gross revenue by IMDB rating, with the gross revenue on a log scale. Color the points by genre. Add a trendline with <code>method="lm"</code>.</li>
</ol>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-22-1.png" width="816" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Create the same plot, this time putting the number of votes on the x-axis, and make both the x and y-axes log scale.</li>
</ol>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-23-1.png" width="816" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Create the above plots, but this time plot the ROI instead of the gross revenue.</li>
</ol>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-24-1.png" width="816" /></p>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-25-1.png" width="816" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Is there a relationship between the release date and the IMDB ratings or votes cast? Surprisingly, there doesn’t appear to be one.</li>
</ol>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-26-1.png" width="816" /><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-26-2.png" width="816" /></p>
<ol start="9" style="list-style-type: decimal">
<li>Is there a relationship between the IMDB rating and the number of votes cast? It appears so, at least as you get toward the movies with the very largest number of ratings.</li>
</ol>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-27-1.png" width="816" /></p>
<ol start="10" style="list-style-type: decimal">
<li>Looking at that above plot, I’m interested in (a) what are those movies with the largest number of votes? and (b) what are those movies with at least 50,000 votes that have the worst scores?</li>
</ol>
<pre class="r"><code>movimdb %&gt;% 
  arrange(desc(votes)) %&gt;% 
  head(10) %&gt;% 
  select(release_date, movie, roi, imdb, votes)</code></pre>
<pre><code>## # A tibble: 10 × 5
##    release_date movie                      roi  imdb   votes
##    &lt;date&gt;       &lt;chr&gt;                    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
##  1 1994-09-23   The Shawshank Redemption  1.13   9.3 2009031
##  2 1999-10-15   Fight Club                1.55   8.8 1607508
##  3 1994-10-14   Pulp Fiction             26.6    8.9 1568242
##  4 1994-07-06   Forrest Gump             12.4    8.8 1529711
##  5 1999-03-31   The Matrix                7.13   8.7 1441344
##  6 2014-11-05   Interstellar              4.05   8.6 1221035
##  7 2005-06-15   Batman Begins             2.39   8.3 1149747
##  8 2009-08-21   Inglourious Basterds      4.53   8.3 1070753
##  9 1998-07-24   Saving Private Ryan       7.46   8.6 1058789
## 10 1993-12-15   Schindler&#39;s List         12.9    8.9 1036894</code></pre>
<p>No surprises there. These are some of the most universally loved films ever made. Interesting that the return on investment varies wildly (1.13x for the highest rated movie of all time, up to 26x for <em>Pulp Fiction</em>, which had to pay for an all-star cast).</p>
<pre class="r"><code>movimdb %&gt;% 
  filter(votes&gt;50000) %&gt;% 
  arrange(imdb) %&gt;% 
  head(10) %&gt;% 
  select(release_date, movie, roi, imdb, votes)</code></pre>
<pre><code>## # A tibble: 10 × 5
##    release_date movie                      roi  imdb  votes
##    &lt;date&gt;       &lt;chr&gt;                    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 2008-08-29   Disaster Movie           1.84    1.9  80918
##  2 2007-01-26   Epic Movie               4.34    2.3  96271
##  3 2006-02-17   Date Movie               4.26    2.8  53781
##  4 2011-11-11   Jack and Jill            1.91    3.3  68909
##  5 2004-07-23   Catwoman                 0.821   3.3  98513
##  6 1997-06-20   Batman &amp; Robin           1.91    3.7 212085
##  7 1997-06-13   Speed 2: Cruise Control  1.37    3.8  67296
##  8 1994-12-23   Street Fighter           2.84    3.8  58912
##  9 2015-02-13   Fifty Shades of Grey    14.3     4.1 269355
## 10 2010-07-01   The Last Airbender       2.13    4.1 133813</code></pre>
<p>Interesting that several of these having such terrible reviews still have fairly high return on investment (&gt;14x for <em>Fifty Shades of Grey</em>!).</p>
<hr />
</div>
</div>
<div id="college-majors-income" class="section level2">
<h2>College Majors &amp; Income</h2>
<div id="about-the-data-1" class="section level3">
<h3>About the data</h3>
<p>This is the data behind the FiveThirtyEight article, <a href="https://fivethirtyeight.com/features/the-economic-guide-to-picking-a-college-major/">“The Economic Guide To Picking A College Major”</a>.</p>
<ul>
<li>All data is from American Community Survey 2010-2012 Public Use Microdata Series.</li>
<li>Original data and more: <a href="http://www.census.gov/programs-surveys/acs/data/pums.html" class="uri">http://www.census.gov/programs-surveys/acs/data/pums.html</a>.</li>
<li>Documentation: <a href="http://www.census.gov/programs-surveys/acs/technical-documentation/pums.html" class="uri">http://www.census.gov/programs-surveys/acs/technical-documentation/pums.html</a></li>
</ul>
<p>Data Dictionary:</p>
<table>
<colgroup>
<col width="23%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Header</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>Rank</code></td>
<td align="left">Rank by median earnings</td>
</tr>
<tr class="even">
<td align="left"><code>Major_code</code></td>
<td align="left">Major code, FO1DP in ACS PUMS</td>
</tr>
<tr class="odd">
<td align="left"><code>Major</code></td>
<td align="left">Major description</td>
</tr>
<tr class="even">
<td align="left"><code>Major_category</code></td>
<td align="left">Category of major from Carnevale et al</td>
</tr>
<tr class="odd">
<td align="left"><code>Total</code></td>
<td align="left">Total number of people with major</td>
</tr>
<tr class="even">
<td align="left"><code>Sample_size</code></td>
<td align="left">Sample size (unweighted) of full-time, year-round ONLY (used for earnings)</td>
</tr>
<tr class="odd">
<td align="left"><code>Men</code></td>
<td align="left">Male graduates</td>
</tr>
<tr class="even">
<td align="left"><code>Women</code></td>
<td align="left">Female graduates</td>
</tr>
<tr class="odd">
<td align="left"><code>ShareWomen</code></td>
<td align="left">Women as share of total</td>
</tr>
<tr class="even">
<td align="left"><code>Employed</code></td>
<td align="left">Number employed (ESR == 1 or 2)</td>
</tr>
<tr class="odd">
<td align="left"><code>Full_time</code></td>
<td align="left">Employed 35 hours or more</td>
</tr>
<tr class="even">
<td align="left"><code>Part_time</code></td>
<td align="left">Employed less than 35 hours</td>
</tr>
<tr class="odd">
<td align="left"><code>Full_time_year_round</code></td>
<td align="left">Employed at least 50 weeks (WKW == 1) and at least 35 hours (WKHP &gt;= 35)</td>
</tr>
<tr class="even">
<td align="left"><code>Unemployed</code></td>
<td align="left">Number unemployed (ESR == 3)</td>
</tr>
<tr class="odd">
<td align="left"><code>Unemployment_rate</code></td>
<td align="left">Unemployed / (Unemployed + Employed)</td>
</tr>
<tr class="even">
<td align="left"><code>Median</code></td>
<td align="left">Median earnings of full-time, year-round workers</td>
</tr>
<tr class="odd">
<td align="left"><code>P25th</code></td>
<td align="left">25th percentile of earnigns</td>
</tr>
<tr class="even">
<td align="left"><code>P75th</code></td>
<td align="left">75th percentile of earnings</td>
</tr>
<tr class="odd">
<td align="left"><code>College_jobs</code></td>
<td align="left">Number with job requiring a college degree</td>
</tr>
<tr class="even">
<td align="left"><code>Non_college_jobs</code></td>
<td align="left">Number with job not requiring a college degree</td>
</tr>
<tr class="odd">
<td align="left"><code>Low_wage_jobs</code></td>
<td align="left">Number in low-wage service jobs</td>
</tr>
</tbody>
</table>
</div>
<div id="import-and-clean-1" class="section level3">
<h3>Import and clean</h3>
<p>If you haven’t already loaded the packages we need, go ahead and do that now.</p>
<pre class="r"><code>library(tidyverse)
library(ggrepel)
library(scales)
library(lubridate)</code></pre>
<p>Now, use the <code>read_csv()</code> function from <strong>readr</strong> (loaded when you load <strong>tidyverse</strong>), to read in the <strong><a href="data/grads.csv">grads.csv</a></strong> dataset into a new object called <code>grads_raw</code>.</p>
<p>Read in the raw data.</p>
<pre class="r"><code>grads_raw &lt;- read_csv(&quot;data/grads.csv&quot;)
grads_raw</code></pre>
<p>Now clean it up a little bit. Remember, construct your pipeline one step at a time first. Once you’re happy with the result, assign the results to a new object, <code>grads</code>.</p>
<ul>
<li>Make sure the data is arranged descending by Median income. It should be already, but don’t make any assumptions.</li>
<li>Make the Major sentence case so it’s not ALL CAPS. This uses the <code>str_to_title()</code> function from the <strong>stringr</strong> package, loaded with <strong>tidyverse</strong>.</li>
<li>Make it a factor variable with levels ordered according to median income.</li>
<li>Do the same for <code>Major_category</code> – make it a factor variable with levels ordered according to median income.</li>
<li>Add a new variable, <code>pct_college</code>, that’s the proportion of graduates employed in a job requiring a college degree. We’ll do some analysis with this later on to look at under-employment.</li>
<li>There’s one entry (“Military technologies”) that has no data about employment. This new variable is therefore missing. Let’s remove this entry.</li>
<li>There’s an entry with an unknown number of total majors, men, or women (“Food Science”). Let’s remove it by removing anything with a missing Total number.</li>
</ul>
<pre class="r"><code>grads &lt;- grads_raw %&gt;%
  arrange(desc(Median)) %&gt;%
  mutate(Major = str_to_title(Major)) %&gt;% 
  mutate(Major = fct_reorder(Major, Median)) %&gt;% 
  mutate(Major_category = fct_reorder(Major_category, Median)) %&gt;% 
  mutate(pct_college=College_jobs/(College_jobs+Non_college_jobs)) %&gt;% 
  filter(!is.na(pct_college)) %&gt;% 
  filter(!is.na(Total))
grads</code></pre>
</div>
<div id="exploratory-data-analysis-1" class="section level3">
<h3>Exploratory Data Analysis</h3>
<p>Let’s start with an exercise.</p>
<hr />
<p><strong>EXERCISE 4</strong></p>
<p>Remake table 1 from the <a href="https://fivethirtyeight.com/features/the-economic-guide-to-picking-a-college-major/">FiveThirtyEight article</a>.</p>
<ul>
<li>Use the <code>select()</code> function to get only the columns you care about.</li>
<li>Use <code>head(10)</code> or <code>tail(10)</code> to show the first or last few rows.</li>
</ul>
<p><small></p>
<pre><code>                                       Major    Major_category Total Median
1                      Petroleum Engineering       Engineering  2339 110000
2             Mining And Mineral Engineering       Engineering   756  75000
3                  Metallurgical Engineering       Engineering   856  73000
4  Naval Architecture And Marine Engineering       Engineering  1258  70000
5                       Chemical Engineering       Engineering 32260  65000
6                        Nuclear Engineering       Engineering  2573  65000
7                          Actuarial Science          Business  3777  62000
8                 Astronomy And Astrophysics Physical Sciences  1792  62000
9                     Mechanical Engineering       Engineering 91227  60000
10                    Electrical Engineering       Engineering 81527  60000</code></pre>
<pre><code>                                           Major            Major_category Total Median
1  Communication Disorders Sciences And Services                    Health 38279  28000
2                      Early Childhood Education                 Education 37589  28000
3                        Other Foreign Languages Humanities &amp; Liberal Arts 11204  27500
4                         Drama And Theater Arts                      Arts 43249  27000
5                       Composition And Rhetoric Humanities &amp; Liberal Arts 18953  27000
6                                        Zoology    Biology &amp; Life Science  8409  26000
7                         Educational Psychology  Psychology &amp; Social Work  2854  25000
8                            Clinical Psychology  Psychology &amp; Social Work  2838  25000
9                          Counseling Psychology  Psychology &amp; Social Work  4626  23400
10                               Library Science                 Education  1098  22000</code></pre>
<p></small></p>
<hr />
<p>If you have the <strong>DT</strong> package installed, you can make an interactive table just like the one in the <a href="https://fivethirtyeight.com/features/the-economic-guide-to-picking-a-college-major/">FiveThirtyEight article</a>.</p>
<pre class="r"><code>library(DT)
grads %&gt;% 
  select(Major, Major_category, Total, Median) %&gt;% 
  datatable()</code></pre>
<div id="htmlwidget-942674584aa9a40c029b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-942674584aa9a40c029b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171"],["Petroleum Engineering","Mining And Mineral Engineering","Metallurgical Engineering","Naval Architecture And Marine Engineering","Chemical Engineering","Nuclear Engineering","Actuarial Science","Astronomy And Astrophysics","Mechanical Engineering","Electrical Engineering","Computer Engineering","Aerospace Engineering","Biomedical Engineering","Materials Science","Engineering Mechanics Physics And Science","Biological Engineering","Industrial And Manufacturing Engineering","General Engineering","Architectural Engineering","Court Reporting","Computer Science","Electrical Engineering Technology","Materials Engineering And Materials Science","Management Information Systems And Statistics","Civil Engineering","Construction Services","Operations Logistics And E-Commerce","Miscellaneous Engineering","Public Policy","Environmental Engineering","Engineering Technologies","Miscellaneous Fine Arts","Geological And Geophysical Engineering","Nursing","Finance","Economics","Business Economics","Industrial Production Technologies","Nuclear, Industrial Radiology, And Biological Technologies","Accounting","Mathematics","Computer And Information Systems","Physics","Medical Technologies Technicians","Information Sciences","Statistics And Decision Science","Applied Mathematics","Pharmacology","Oceanography","Engineering And Industrial Management","Medical Assisting Services","Mathematics And Computer Science","Computer Programming And Data Processing","Cognitive Science And Biopsychology","School Student Counseling","International Relations","General Business","Architecture","International Business","Pharmacy Pharmaceutical Sciences And Administration","Molecular Biology","Miscellaneous Business &amp; Medical Administration","Agriculture Production And Management","General Agriculture","Miscellaneous Engineering Technologies","Mechanical Engineering Related Technologies","Genetics","Miscellaneous Social Sciences","United States History","Industrial And Organizational Psychology","Agricultural Economics","Physical Sciences","Chemistry","Electrical, Mechanical, And Precision Technologies And Production","Business Management And Administration","Marketing And Marketing Research","Political Science And Government","Geography","Microbiology","Computer Administration Management And Security","Biochemical Sciences","Botany","Computer Networking And Telecommunications","Geology And Earth Science","Human Resources And Personnel Management","Pre-Law And Legal Studies","Miscellaneous Health Medical Professions","Public Administration","Geosciences","Social Psychology","Environmental Science","Communications","Criminal Justice And Fire Protection","Commercial Art And Graphic Design","Journalism","Multi-Disciplinary Or General Science","Advertising And Public Relations","Area Ethnic And Civilization Studies","Special Needs Education","Physiology","Criminology","Nutrition Sciences","Health And Medical Administrative Services","Communication Technologies","Transportation Sciences And Technologies","Natural Resources Management","Neuroscience","Multi/Interdisciplinary Studies","Atmospheric Sciences And Meteorology","Forestry","Soil Science","General Education","History","French German Latin And Other Common Foreign Language Studies","Intercultural And International Studies","Social Science Or History Teacher Education","Community And Public Health","Mathematics Teacher Education","Educational Administration And Supervision","Health And Medical Preparatory Programs","Miscellaneous Biology","Biology","Sociology","Mass Media","Treatment Therapy Professions","Hospitality Management","Language And Drama Education","Linguistics And Comparative Language And Literature","Miscellaneous Education","Interdisciplinary Social Sciences","Ecology","Secondary Teacher Education","General Medical And Health Services","Philosophy And Religious Studies","Art And Music Education","English Language And Literature","Elementary Education","Physical Fitness Parks Recreation And Leisure","Liberal Arts","Film Video And Photographic Arts","General Social Sciences","Plant Science And Agronomy","Science And Computer Teacher Education","Psychology","Music","Physical And Health Education Teaching","Art History And Criticism","Fine Arts","Family And Consumer Sciences","Social Work","Animal Sciences","Visual And Performing Arts","Teacher Education: Multiple Levels","Miscellaneous Psychology","Human Services And Community Organization","Humanities","Theology And Religious Vocations","Studio Arts","Cosmetology Services And Culinary Arts","Miscellaneous Agriculture","Anthropology And Archeology","Communication Disorders Sciences And Services","Early Childhood Education","Other Foreign Languages","Drama And Theater Arts","Composition And Rhetoric","Zoology","Educational Psychology","Clinical Psychology","Counseling Psychology","Library Science"],["Engineering","Engineering","Engineering","Engineering","Engineering","Engineering","Business","Physical Sciences","Engineering","Engineering","Engineering","Engineering","Engineering","Engineering","Engineering","Engineering","Engineering","Engineering","Engineering","Law &amp; Public Policy","Computers &amp; Mathematics","Engineering","Engineering","Business","Engineering","Industrial Arts &amp; Consumer Services","Business","Engineering","Law &amp; Public Policy","Engineering","Engineering","Arts","Engineering","Health","Business","Social Science","Business","Engineering","Physical Sciences","Business","Computers &amp; Mathematics","Computers &amp; Mathematics","Physical Sciences","Health","Computers &amp; Mathematics","Computers &amp; Mathematics","Computers &amp; Mathematics","Biology &amp; Life Science","Physical Sciences","Engineering","Health","Computers &amp; Mathematics","Computers &amp; Mathematics","Biology &amp; Life Science","Education","Social Science","Business","Engineering","Business","Health","Biology &amp; Life Science","Business","Agriculture &amp; Natural Resources","Agriculture &amp; Natural Resources","Engineering","Engineering","Biology &amp; Life Science","Social Science","Humanities &amp; Liberal Arts","Psychology &amp; Social Work","Agriculture &amp; Natural Resources","Physical Sciences","Physical Sciences","Industrial Arts &amp; Consumer Services","Business","Business","Social Science","Social Science","Biology &amp; Life Science","Computers &amp; Mathematics","Biology &amp; Life Science","Biology &amp; Life Science","Computers &amp; Mathematics","Physical Sciences","Business","Law &amp; Public Policy","Health","Law &amp; Public Policy","Physical Sciences","Psychology &amp; Social Work","Biology &amp; Life Science","Communications &amp; Journalism","Law &amp; Public Policy","Arts","Communications &amp; Journalism","Physical Sciences","Communications &amp; Journalism","Humanities &amp; Liberal Arts","Education","Biology &amp; Life Science","Social Science","Health","Health","Computers &amp; Mathematics","Industrial Arts &amp; Consumer Services","Agriculture &amp; Natural Resources","Biology &amp; Life Science","Interdisciplinary","Physical Sciences","Agriculture &amp; Natural Resources","Agriculture &amp; Natural Resources","Education","Humanities &amp; Liberal Arts","Humanities &amp; Liberal Arts","Humanities &amp; Liberal Arts","Education","Health","Education","Education","Health","Biology &amp; Life Science","Biology &amp; Life Science","Social Science","Communications &amp; Journalism","Health","Business","Education","Humanities &amp; Liberal Arts","Education","Social Science","Biology &amp; Life Science","Education","Health","Humanities &amp; Liberal Arts","Education","Humanities &amp; Liberal Arts","Education","Industrial Arts &amp; Consumer Services","Humanities &amp; Liberal Arts","Arts","Social Science","Agriculture &amp; Natural Resources","Education","Psychology &amp; Social Work","Arts","Education","Humanities &amp; Liberal Arts","Arts","Industrial Arts &amp; Consumer Services","Psychology &amp; Social Work","Agriculture &amp; Natural Resources","Arts","Education","Psychology &amp; Social Work","Psychology &amp; Social Work","Humanities &amp; Liberal Arts","Humanities &amp; Liberal Arts","Arts","Industrial Arts &amp; Consumer Services","Agriculture &amp; Natural Resources","Humanities &amp; Liberal Arts","Health","Education","Humanities &amp; Liberal Arts","Arts","Humanities &amp; Liberal Arts","Biology &amp; Life Science","Psychology &amp; Social Work","Psychology &amp; Social Work","Psychology &amp; Social Work","Education"],[2339,756,856,1258,32260,2573,3777,1792,91227,81527,41542,15058,14955,4279,4321,8925,18968,61152,2825,1148,128319,11565,2993,18713,53153,18498,11732,9133,5978,4047,3600,3340,720,209394,174506,139247,13302,4631,2116,198633,72397,36698,32142,15914,11913,6251,4939,1762,2418,2906,11123,609,4168,3831,818,28187,234590,46420,25894,23551,18300,17947,14240,10399,8804,4790,3635,3283,3079,3014,2439,1436,66530,2435,329927,205211,182621,18480,15232,8066,39107,1329,7613,10972,24497,13528,13386,5629,1978,1386,25965,213996,152824,103480,72619,62052,53162,31195,28739,22060,19879,18909,18109,18035,15150,13773,13663,12296,4043,3607,685,143718,141951,48246,24650,20198,19735,14237,804,12740,10706,280709,115433,52824,48491,43647,30471,16601,10150,9916,9154,17125,33599,54814,34181,194673,170862,125074,71369,38761,12920,7416,6483,393735,60633,28213,21030,74440,58001,53552,21573,16250,14443,9628,9374,6652,30207,16977,10510,1488,38844,38279,37589,11204,43249,18953,8409,2854,2838,4626,1098],[110000,75000,73000,70000,65000,65000,62000,62000,60000,60000,60000,60000,60000,60000,58000,57100,57000,56000,54000,54000,53000,52000,52000,51000,50000,50000,50000,50000,50000,50000,50000,50000,50000,48000,47000,47000,46000,46000,46000,45000,45000,45000,45000,45000,45000,45000,45000,45000,44700,44000,42000,42000,41300,41000,41000,40100,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,39000,38400,38000,38000,38000,38000,38000,37500,37400,37000,36400,36200,36000,36000,36000,36000,36000,36000,35600,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,34000,34000,34000,34000,34000,34000,34000,34000,33500,33500,33400,33000,33000,33000,33000,33000,33000,33000,33000,33000,32500,32400,32200,32100,32000,32000,32000,32000,32000,32000,32000,32000,31500,31000,31000,31000,30500,30000,30000,30000,30000,30000,30000,30000,30000,29000,29000,29000,29000,28000,28000,28000,27500,27000,27000,26000,25000,25000,23400,22000]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Major<\/th>\n      <th>Major_category<\/th>\n      <th>Total<\/th>\n      <th>Median<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Let’s continue with more exploratory data analysis (EDA). Let’s plot median income by the total number of majors. Is there a correlation between the number of people majoring in a topic and that major’s median income? The <code>expand_limits</code> lets you put $0 on the Y-axis. You might try making the x-axis scale logarithmic.</p>
<pre class="r"><code>ggplot(grads, aes(Total, Median)) + 
  geom_point() + 
  geom_smooth(method=&quot;lm&quot;) + 
  expand_limits(y=0) + 
  scale_x_log10(label=scales::number_format()) + 
  scale_y_continuous(label=dollar_format()) + 
  labs(x=&quot;Total number of majors&quot;, 
       y=&quot;Median income&quot;, 
       title=&quot;Median income as a function of major popularity&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/scatter-income-total-1.png" width="816" /></p>
<p>You could run a regression analysis to see if there’s a trend.</p>
<pre class="r"><code>lm(Median~(Total), data=grads) %&gt;% summary()</code></pre>
<p>What categories of majors make more money than others? Let’s make a boxplot of median income by major category. Let’s expand the limits to include 0 on the y-axis, and flip the coordinate system.</p>
<pre class="r"><code>grads %&gt;%
  ggplot(aes(Major_category, Median)) +
  geom_boxplot(aes(fill = Major_category)) +
  expand_limits(y = 0) +
  coord_flip() +
  scale_y_continuous(labels = dollar_format()) +
  theme(legend.position = &quot;none&quot;) + 
  labs(x=&quot;Major category&quot;,
       y=&quot;Median income&quot;, 
       title=&quot;Median income by major category&quot;,
       caption=&quot;Adapted from @drob&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/income-by-major-boxplot-1.png" width="816" /></p>
<p>What about unemployment rates? Let’s to the same thing here but before ggplot’ing, let’s mutate the major category to relevel it descending by the unemployment rate. Therefore the highest unemployment rate will be the first level of the factor. Let’s expand limits again, and flip the coordinate system.</p>
<pre class="r"><code>grads %&gt;%
  mutate(Major_category=fct_reorder(Major_category, -Unemployment_rate)) %&gt;% 
  ggplot(aes(Major_category, Unemployment_rate, fill = Major_category)) +
  geom_boxplot() +
  expand_limits(y = 0) +
  coord_flip() +
  scale_y_continuous(labels = percent_format()) +
  theme(legend.position = &quot;none&quot;) + 
  labs(x=&quot;Major category&quot;, 
       y=&quot;Unemployment rate&quot;,
       title=&quot;Unemployment rate by major category&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/unemployment-by-major-barplot-1.png" width="816" /></p>
<p>Most of these make sense except for the high median and large variability of “Computers &amp; Mathematics” category. Especially considering how these had the second highest median salary. Let’s see what these were. Perhaps it was the larger number of Computer and Information Systems, and Communication Technologies majors under this category that were dragging up the Unemployment rate.</p>
<pre class="r"><code>grads %&gt;% 
  filter(Major_category==&quot;Computers &amp; Mathematics&quot;) %&gt;% 
  select(Major, Median, Sample_size, Unemployment_rate)</code></pre>
<hr />
<p><strong>EXERCISE 5</strong></p>
<p>What about “underemployment?” Which majors have more students finding jobs requiring college degrees? This time make a boxplot of each major category’s percentage of majors having jobs requiring a college degree (<code>pct_college</code>). Do the same factor reordering.</p>
<p><img src="r-refresher-tidy-eda_files/figure-html/college-jobs-1.png" width="816" /></p>
<hr />
<p>What are the highest earning majors? First, filter to majors having at least 100 samples to use for income data. Try changing <code>head(20)</code> to <code>tail(20)</code> to get the lowest earners.</p>
<pre class="r"><code>grads %&gt;%
  filter(Sample_size &gt;= 100) %&gt;%
  head(20) %&gt;%
  ggplot(aes(Major, Median, color = Major_category)) +
  geom_point() +
  geom_errorbar(aes(ymin = P25th, ymax = P75th)) +
  expand_limits(y = 0) +
  scale_y_continuous(labels = dollar_format()) +
  coord_flip() +
  labs(title = &quot;What are the highest-earning majors?&quot;,
       subtitle = &quot;Top 20 majors with at least 100 graduates surveyed.\nBars represent the 25th to 75th percentile.&quot;,
       x = &quot;&quot;,
       y = &quot;Median salary of gradates&quot;, 
       caption=&quot;Adapted from @drob&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/highest-earning-majors-dot-errorbars-1.png" width="816" /></p>
<p>How do the top majors break down by gender? This plot first gets the top 20 most popular majors by total overall students. It reorders the “Major” variable by the total number of people taking it. It then gathers the “Men” and “Women” variable into a column with the number of men or women, with a key column called “Gender” indicating whether you’re looking at men or women. It plots the total number in that major, and color-codes by gender.</p>
<pre class="r"><code>grads %&gt;%
  arrange(desc(Total)) %&gt;%
  head(20) %&gt;%
  mutate(Major = fct_reorder(Major, Total)) %&gt;%
  gather(Gender, Number, Men, Women) %&gt;%
  ggplot(aes(Major, Number, fill = Gender)) +
  geom_col() +
  coord_flip() + 
  scale_y_continuous(labels=number_format()) + 
  labs(x=&quot;&quot;, y=&quot;Total number of majors&quot;, title=&quot;Gender breakdown by top majors&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-38-1.png" width="816" /></p>
<p>What do earnings look like by gender? Let’s plot median salary by the Share of women in that major, making the size of the point proportional to the number of students enrolled in that major. Let’s also lump all the major categories together if they’re not one of the top four. I’m also passing the <code>label=</code> aesthetic mapping. You’ll see why in a few moments. For now, there is no geom that takes advantage of the label aesthetic.</p>
<pre class="r"><code>p &lt;- grads %&gt;% 
  mutate(Major_category = fct_lump(Major_category, 4)) %&gt;%
  ggplot(aes(ShareWomen, Median, label=Major)) + 
  geom_point(aes(size=Total, color=Major_category)) + 
  geom_smooth(method=&quot;lm&quot;) + 
  expand_limits(y=0) + 
  scale_size_continuous(labels=number_format()) + 
  scale_y_continuous(labels=dollar_format()) + 
  scale_x_continuous(labels=percent_format()) + 
  labs(x=&quot;Proportion of women with major&quot;, 
       title=&quot;Median income by the proportion of women in each major&quot;)
p</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/earnings-by-gender-1.png" width="816" /></p>
<p>If you have the <strong>plotly</strong> package installed, you can make an interactive graphic. Try hovering over the points, or using your mouse to click+drag a box around a segment of the plot to zoom in on.</p>
<pre class="r"><code>library(plotly)
ggplotly(p)</code></pre>
<div id="htmlwidget-8d2203a0bab2186b61c6" style="width:816px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8d2203a0bab2186b61c6">{"x":{"data":[{"x":[0.429684963,0.719858952,0.448732309,0.733967583,0.652129817,0.733991928,0.416809574,0.70089843,0.686992952,0.845934379,0.697384245,0.383719006,0.707136237,0.690110675,0.629504564],"y":[40000,35000,34000,34000,34000,33000,32200,32000,32000,31000,30000,29000,28000,27500,27000],"text":["ShareWomen: 0.4297<br />Median:  40000<br />Major: United States History<br />Total:   3079<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.7199<br />Median:  35000<br />Major: Area Ethnic And Civilization Studies<br />Total:  31195<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.4487<br />Median:  34000<br />Major: History<br />Total: 141951<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.7340<br />Median:  34000<br />Major: French German Latin And Other Common Foreign Language Studies<br />Total:  48246<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.6521<br />Median:  34000<br />Major: Intercultural And International Studies<br />Total:  24650<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.7340<br />Median:  33000<br />Major: Linguistics And Comparative Language And Literature<br />Total:  16601<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.4168<br />Median:  32200<br />Major: Philosophy And Religious Studies<br />Total:  54814<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.7009<br />Median:  32000<br />Major: English Language And Literature<br />Total: 194673<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.6870<br />Median:  32000<br />Major: Liberal Arts<br />Total:  71369<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.8459<br />Median:  31000<br />Major: Art History And Criticism<br />Total:  21030<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.6974<br />Median:  30000<br />Major: Humanities<br />Total:   6652<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.3837<br />Median:  29000<br />Major: Theology And Religious Vocations<br />Total:  30207<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.7071<br />Median:  28000<br />Major: Anthropology And Archeology<br />Total:  38844<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.6901<br />Median:  27500<br />Major: Other Foreign Languages<br />Total:  11204<br />Major_category: Humanities & Liberal Arts","ShareWomen: 0.6295<br />Median:  27000<br />Major: Composition And Rhetoric<br />Total:  18953<br />Major_category: Humanities & Liberal Arts"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":[5.27745271263077,9.05064847919304,15.1107627320092,10.3578300331765,8.45276557803106,7.591002138129,10.7966864648758,17.0569607967725,11.7969644323327,8.08657980236287,6.12250406697952,8.9648148074561,9.6730125828374,6.8818870253641,7.86167472875499],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Humanities & Liberal Arts","legendgroup":"Humanities & Liberal Arts","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.854523227,0.906677337,0.812876606,0.507376968,0.728032591,0.651741294,0.877227528,0.64,0.601751825,0.6860244,0.923745479,0.683942619,0.444582285,0.810704147,0.968953683,0.877959927],"y":[41000,35000,34000,34000,34000,34000,33000,33000,32500,32100,32000,32000,31000,30000,28000,22000],"text":["ShareWomen: 0.8545<br />Median:  41000<br />Major: School Student Counseling<br />Total:    818<br />Major_category: Education","ShareWomen: 0.9067<br />Median:  35000<br />Major: Special Needs Education<br />Total:  28739<br />Major_category: Education","ShareWomen: 0.8129<br />Median:  34000<br />Major: General Education<br />Total: 143718<br />Major_category: Education","ShareWomen: 0.5074<br />Median:  34000<br />Major: Social Science Or History Teacher Education<br />Total:  20198<br />Major_category: Education","ShareWomen: 0.7280<br />Median:  34000<br />Major: Mathematics Teacher Education<br />Total:  14237<br />Major_category: Education","ShareWomen: 0.6517<br />Median:  34000<br />Major: Educational Administration And Supervision<br />Total:    804<br />Major_category: Education","ShareWomen: 0.8772<br />Median:  33000<br />Major: Language And Drama Education<br />Total:  30471<br />Major_category: Education","ShareWomen: 0.6400<br />Median:  33000<br />Major: Miscellaneous Education<br />Total:  10150<br />Major_category: Education","ShareWomen: 0.6018<br />Median:  32500<br />Major: Secondary Teacher Education<br />Total:  17125<br />Major_category: Education","ShareWomen: 0.6860<br />Median:  32100<br />Major: Art And Music Education<br />Total:  34181<br />Major_category: Education","ShareWomen: 0.9237<br />Median:  32000<br />Major: Elementary Education<br />Total: 170862<br />Major_category: Education","ShareWomen: 0.6839<br />Median:  32000<br />Major: Science And Computer Teacher Education<br />Total:   6483<br />Major_category: Education","ShareWomen: 0.4446<br />Median:  31000<br />Major: Physical And Health Education Teaching<br />Total:  28213<br />Major_category: Education","ShareWomen: 0.8107<br />Median:  30000<br />Major: Teacher Education: Multiple Levels<br />Total:  14443<br />Major_category: Education","ShareWomen: 0.9690<br />Median:  28000<br />Major: Early Childhood Education<br />Total:  37589<br />Major_category: Education","ShareWomen: 0.8780<br />Median:  22000<br />Major: Library Science<br />Total:   1098<br />Major_category: Education"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":1,"size":[4.21525486812372,8.83458975145687,15.181371974302,7.99792767361895,7.29802872637577,4.2004081927502,8.98788861063667,6.72353284150803,7.65294295194648,9.30195787156307,16.2157655254974,6.08950962462229,8.78710467821834,7.32452170767132,9.57548369980329,4.44602128658739],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"Education","legendgroup":"Education","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.707718502,0.56486557,0.59420765,0.515543329,0.580948004,0.515406449,0.52896915,0.584556133,0.618223028,0.63814682,0.556603774,0.601858152,0.576360061,0.637293376],"y":[45000,41000,40000,40000,38000,37400,37000,35600,35000,35000,33500,33400,33000,26000],"text":["ShareWomen: 0.7077<br />Median:  45000<br />Major: Pharmacology<br />Total:   1762<br />Major_category: Biology & Life Science","ShareWomen: 0.5649<br />Median:  41000<br />Major: Cognitive Science And Biopsychology<br />Total:   3831<br />Major_category: Biology & Life Science","ShareWomen: 0.5942<br />Median:  40000<br />Major: Molecular Biology<br />Total:  18300<br />Major_category: Biology & Life Science","ShareWomen: 0.5155<br />Median:  40000<br />Major: Genetics<br />Total:   3635<br />Major_category: Biology & Life Science","ShareWomen: 0.5809<br />Median:  38000<br />Major: Microbiology<br />Total:  15232<br />Major_category: Biology & Life Science","ShareWomen: 0.5154<br />Median:  37400<br />Major: Biochemical Sciences<br />Total:  39107<br />Major_category: Biology & Life Science","ShareWomen: 0.5290<br />Median:  37000<br />Major: Botany<br />Total:   1329<br />Major_category: Biology & Life Science","ShareWomen: 0.5846<br />Median:  35600<br />Major: Environmental Science<br />Total:  25965<br />Major_category: Biology & Life Science","ShareWomen: 0.6182<br />Median:  35000<br />Major: Physiology<br />Total:  22060<br />Major_category: Biology & Life Science","ShareWomen: 0.6381<br />Median:  35000<br />Major: Neuroscience<br />Total:  13663<br />Major_category: Biology & Life Science","ShareWomen: 0.5566<br />Median:  33500<br />Major: Miscellaneous Biology<br />Total:  10706<br />Major_category: Biology & Life Science","ShareWomen: 0.6019<br />Median:  33400<br />Major: Biology<br />Total: 280709<br />Major_category: Biology & Life Science","ShareWomen: 0.5764<br />Median:  33000<br />Major: Ecology<br />Total:   9154<br />Major_category: Biology & Life Science","ShareWomen: 0.6373<br />Median:  26000<br />Major: Zoology<br />Total:   8409<br />Major_category: Biology & Life Science"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":1,"size":[4.80295319303495,5.49034789938772,7.78835929874042,5.43749538631099,7.42421153174012,9.69324705763529,4.58826562520603,8.57887298251742,8.19386378016628,7.22313344278293,6.80809894728614,19.7309049998205,6.56563378350886,6.44141041011807],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"Biology & Life Science","legendgroup":"Biology & Life Science","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.120564344,0.101851852,0.153037383,0.107313196,0.341630502,0.144966965,0.119558903,0.196450256,0.199412643,0.139792801,0.437846874,0.310820285,0.183985189,0.320784314,0.343473218,0.252959838,0.350442478,0.292607004,0.325091881,0.227117943,0.189970437,0.342228811,0.251388889,0.322222222,0.24919024,0.174122505,0.451464886,0.200022717,0.077453027],"y":[110000,75000,73000,70000,65000,65000,60000,60000,60000,60000,60000,60000,58000,57100,57000,56000,54000,52000,52000,50000,50000,50000,50000,50000,46000,44000,40000,40000,40000],"text":["ShareWomen: 0.1206<br />Median: 110000<br />Major: Petroleum Engineering<br />Total:   2339<br />Major_category: Engineering","ShareWomen: 0.1019<br />Median:  75000<br />Major: Mining And Mineral Engineering<br />Total:    756<br />Major_category: Engineering","ShareWomen: 0.1530<br />Median:  73000<br />Major: Metallurgical Engineering<br />Total:    856<br />Major_category: Engineering","ShareWomen: 0.1073<br />Median:  70000<br />Major: Naval Architecture And Marine Engineering<br />Total:   1258<br />Major_category: Engineering","ShareWomen: 0.3416<br />Median:  65000<br />Major: Chemical Engineering<br />Total:  32260<br />Major_category: Engineering","ShareWomen: 0.1450<br />Median:  65000<br />Major: Nuclear Engineering<br />Total:   2573<br />Major_category: Engineering","ShareWomen: 0.1196<br />Median:  60000<br />Major: Mechanical Engineering<br />Total:  91227<br />Major_category: Engineering","ShareWomen: 0.1965<br />Median:  60000<br />Major: Electrical Engineering<br />Total:  81527<br />Major_category: Engineering","ShareWomen: 0.1994<br />Median:  60000<br />Major: Computer Engineering<br />Total:  41542<br />Major_category: Engineering","ShareWomen: 0.1398<br />Median:  60000<br />Major: Aerospace Engineering<br />Total:  15058<br />Major_category: Engineering","ShareWomen: 0.4378<br />Median:  60000<br />Major: Biomedical Engineering<br />Total:  14955<br />Major_category: Engineering","ShareWomen: 0.3108<br />Median:  60000<br />Major: Materials Science<br />Total:   4279<br />Major_category: Engineering","ShareWomen: 0.1840<br />Median:  58000<br />Major: Engineering Mechanics Physics And Science<br />Total:   4321<br />Major_category: Engineering","ShareWomen: 0.3208<br />Median:  57100<br />Major: Biological Engineering<br />Total:   8925<br />Major_category: Engineering","ShareWomen: 0.3435<br />Median:  57000<br />Major: Industrial And Manufacturing Engineering<br />Total:  18968<br />Major_category: Engineering","ShareWomen: 0.2530<br />Median:  56000<br />Major: General Engineering<br />Total:  61152<br />Major_category: Engineering","ShareWomen: 0.3504<br />Median:  54000<br />Major: Architectural Engineering<br />Total:   2825<br />Major_category: Engineering","ShareWomen: 0.2926<br />Median:  52000<br />Major: Electrical Engineering Technology<br />Total:  11565<br />Major_category: Engineering","ShareWomen: 0.3251<br />Median:  52000<br />Major: Materials Engineering And Materials Science<br />Total:   2993<br />Major_category: Engineering","ShareWomen: 0.2271<br />Median:  50000<br />Major: Civil Engineering<br />Total:  53153<br />Major_category: Engineering","ShareWomen: 0.1900<br />Median:  50000<br />Major: Miscellaneous Engineering<br />Total:   9133<br />Major_category: Engineering","ShareWomen: 0.3422<br />Median:  50000<br />Major: Environmental Engineering<br />Total:   4047<br />Major_category: Engineering","ShareWomen: 0.2514<br />Median:  50000<br />Major: Engineering Technologies<br />Total:   3600<br />Major_category: Engineering","ShareWomen: 0.3222<br />Median:  50000<br />Major: Geological And Geophysical Engineering<br />Total:    720<br />Major_category: Engineering","ShareWomen: 0.2492<br />Median:  46000<br />Major: Industrial Production Technologies<br />Total:   4631<br />Major_category: Engineering","ShareWomen: 0.1741<br />Median:  44000<br />Major: Engineering And Industrial Management<br />Total:   2906<br />Major_category: Engineering","ShareWomen: 0.4515<br />Median:  40000<br />Major: Architecture<br />Total:  46420<br />Major_category: Engineering","ShareWomen: 0.2000<br />Median:  40000<br />Major: Miscellaneous Engineering Technologies<br />Total:   8804<br />Major_category: Engineering","ShareWomen: 0.0775<br />Median:  40000<br />Major: Mechanical Engineering Related Technologies<br />Total:   4790<br />Major_category: Engineering"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":1,"size":[5.03314402706312,4.14495428291387,4.25321308403077,4.54735563000458,9.14163306447635,5.11523817825538,12.8524849932685,12.3531470896326,9.87740125596624,7.4024624774604,7.38952629843954,5.60541780724926,5.61583595869725,6.52804740596535,7.8633433859501,11.1955938896717,5.19834498886026,6.93429717043379,5.25114444523912,10.6883368159431,6.56220814149123,5.54676365386198,5.42787911927949,4.09707098526336,5.69097636176638,5.22404282059739,10.2305198515286,6.50797829028067,5.72839240050099],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"Engineering","legendgroup":"Engineering","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.441355573,0.535714286,0.236062718,0.222695002,0.278790146,0.090712509,0.32483805,0.558548009,0.410179641,0.896018988,0.340824957,0.355469059,0.430536761,0.75047259,0.524152583,0.448098678,0.253583302,0.281936407,0.75392736,0.244103081,0.526475764,0.434298441,0.688999173,0.927807246,0.178981938,0.269193858,0.632986838,0.436301633,0.589711902,0.630716318,0.42692372,0.321769663,0.4179248,0.543405422,0.643331121,0.282902829,0.377437326,0.505140538,0.232443532,0.473189524,0.615727227,0.485929877,0.382900433,0.180882718,0.305004597,0.470196865,0.747560926,0.672161443,0.881293889,0.476461183,0.591001011,0.702020202,0.669998505,0.47501047,0.690365288,0.673143392,0.564639335,0.758060269,0.495397153,0.864456079,0.764426528,0.366176878,0.124950495,0.374355623,0.770901106,0.321296067,0.125034655,0.305109489,0.792095262,0.566640502,0.718364766,0.532333788,0.721865913,0.651659908,0.76432029,0.774576624,0.502846315,0.423208896,0.606888545,0.339670982,0.779933204,0.506720763,0.667033853,0.91093257,0.904074544,0.752143884,0.745661538,0.798919817,0.90558993,0.719974083,0.584776403,0.728494624,0.967998119,0.666119448,0.817098809,0.799859056,0.798746217],"y":[62000,62000,54000,53000,51000,50000,50000,50000,50000,48000,47000,47000,46000,46000,45000,45000,45000,45000,45000,45000,45000,45000,44700,42000,42000,41300,40100,40000,40000,40000,40000,40000,40000,40000,40000,40000,40000,39000,38400,38000,38000,38000,38000,37500,36400,36200,36000,36000,36000,36000,36000,36000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,34000,33500,33000,33000,33000,33000,33000,32400,32000,32000,32000,32000,31500,31000,30500,30000,30000,30000,30000,30000,30000,29000,29000,29000,28000,27000,25000,25000,23400],"text":["ShareWomen: 0.4414<br />Median:  62000<br />Major: Actuarial Science<br />Total:   3777<br />Major_category: Other","ShareWomen: 0.5357<br />Median:  62000<br />Major: Astronomy And Astrophysics<br />Total:   1792<br />Major_category: Other","ShareWomen: 0.2361<br />Median:  54000<br />Major: Court Reporting<br />Total:   1148<br />Major_category: Other","ShareWomen: 0.2227<br />Median:  53000<br />Major: Computer Science<br />Total: 128319<br />Major_category: Other","ShareWomen: 0.2788<br />Median:  51000<br />Major: Management Information Systems And Statistics<br />Total:  18713<br />Major_category: Other","ShareWomen: 0.0907<br />Median:  50000<br />Major: Construction Services<br />Total:  18498<br />Major_category: Other","ShareWomen: 0.3248<br />Median:  50000<br />Major: Operations Logistics And E-Commerce<br />Total:  11732<br />Major_category: Other","ShareWomen: 0.5585<br />Median:  50000<br />Major: Public Policy<br />Total:   5978<br />Major_category: Other","ShareWomen: 0.4102<br />Median:  50000<br />Major: Miscellaneous Fine Arts<br />Total:   3340<br />Major_category: Other","ShareWomen: 0.8960<br />Median:  48000<br />Major: Nursing<br />Total: 209394<br />Major_category: Other","ShareWomen: 0.3408<br />Median:  47000<br />Major: Finance<br />Total: 174506<br />Major_category: Other","ShareWomen: 0.3555<br />Median:  47000<br />Major: Economics<br />Total: 139247<br />Major_category: Other","ShareWomen: 0.4305<br />Median:  46000<br />Major: Business Economics<br />Total:  13302<br />Major_category: Other","ShareWomen: 0.7505<br />Median:  46000<br />Major: Nuclear, Industrial Radiology, And Biological Technologies<br />Total:   2116<br />Major_category: Other","ShareWomen: 0.5242<br />Median:  45000<br />Major: Accounting<br />Total: 198633<br />Major_category: Other","ShareWomen: 0.4481<br />Median:  45000<br />Major: Mathematics<br />Total:  72397<br />Major_category: Other","ShareWomen: 0.2536<br />Median:  45000<br />Major: Computer And Information Systems<br />Total:  36698<br />Major_category: Other","ShareWomen: 0.2819<br />Median:  45000<br />Major: Physics<br />Total:  32142<br />Major_category: Other","ShareWomen: 0.7539<br />Median:  45000<br />Major: Medical Technologies Technicians<br />Total:  15914<br />Major_category: Other","ShareWomen: 0.2441<br />Median:  45000<br />Major: Information Sciences<br />Total:  11913<br />Major_category: Other","ShareWomen: 0.5265<br />Median:  45000<br />Major: Statistics And Decision Science<br />Total:   6251<br />Major_category: Other","ShareWomen: 0.4343<br />Median:  45000<br />Major: Applied Mathematics<br />Total:   4939<br />Major_category: Other","ShareWomen: 0.6890<br />Median:  44700<br />Major: Oceanography<br />Total:   2418<br />Major_category: Other","ShareWomen: 0.9278<br />Median:  42000<br />Major: Medical Assisting Services<br />Total:  11123<br />Major_category: Other","ShareWomen: 0.1790<br />Median:  42000<br />Major: Mathematics And Computer Science<br />Total:    609<br />Major_category: Other","ShareWomen: 0.2692<br />Median:  41300<br />Major: Computer Programming And Data Processing<br />Total:   4168<br />Major_category: Other","ShareWomen: 0.6330<br />Median:  40100<br />Major: International Relations<br />Total:  28187<br />Major_category: Other","ShareWomen: 0.4363<br />Median:  40000<br />Major: General Business<br />Total: 234590<br />Major_category: Other","ShareWomen: 0.5897<br />Median:  40000<br />Major: International Business<br />Total:  25894<br />Major_category: Other","ShareWomen: 0.6307<br />Median:  40000<br />Major: Pharmacy Pharmaceutical Sciences And Administration<br />Total:  23551<br />Major_category: Other","ShareWomen: 0.4269<br />Median:  40000<br />Major: Miscellaneous Business & Medical Administration<br />Total:  17947<br />Major_category: Other","ShareWomen: 0.3218<br />Median:  40000<br />Major: Agriculture Production And Management<br />Total:  14240<br />Major_category: Other","ShareWomen: 0.4179<br />Median:  40000<br />Major: General Agriculture<br />Total:  10399<br />Major_category: Other","ShareWomen: 0.5434<br />Median:  40000<br />Major: Miscellaneous Social Sciences<br />Total:   3283<br />Major_category: Other","ShareWomen: 0.6433<br />Median:  40000<br />Major: Industrial And Organizational Psychology<br />Total:   3014<br />Major_category: Other","ShareWomen: 0.2829<br />Median:  40000<br />Major: Agricultural Economics<br />Total:   2439<br />Major_category: Other","ShareWomen: 0.3774<br />Median:  40000<br />Major: Physical Sciences<br />Total:   1436<br />Major_category: Other","ShareWomen: 0.5051<br />Median:  39000<br />Major: Chemistry<br />Total:  66530<br />Major_category: Other","ShareWomen: 0.2324<br />Median:  38400<br />Major: Electrical, Mechanical, And Precision Technologies And Production<br />Total:   2435<br />Major_category: Other","ShareWomen: 0.4732<br />Median:  38000<br />Major: Business Management And Administration<br />Total: 329927<br />Major_category: Other","ShareWomen: 0.6157<br />Median:  38000<br />Major: Marketing And Marketing Research<br />Total: 205211<br />Major_category: Other","ShareWomen: 0.4859<br />Median:  38000<br />Major: Political Science And Government<br />Total: 182621<br />Major_category: Other","ShareWomen: 0.3829<br />Median:  38000<br />Major: Geography<br />Total:  18480<br />Major_category: Other","ShareWomen: 0.1809<br />Median:  37500<br />Major: Computer Administration Management And Security<br />Total:   8066<br />Major_category: Other","ShareWomen: 0.3050<br />Median:  36400<br />Major: Computer Networking And Telecommunications<br />Total:   7613<br />Major_category: Other","ShareWomen: 0.4702<br />Median:  36200<br />Major: Geology And Earth Science<br />Total:  10972<br />Major_category: Other","ShareWomen: 0.7476<br />Median:  36000<br />Major: Human Resources And Personnel Management<br />Total:  24497<br />Major_category: Other","ShareWomen: 0.6722<br />Median:  36000<br />Major: Pre-Law And Legal Studies<br />Total:  13528<br />Major_category: Other","ShareWomen: 0.8813<br />Median:  36000<br />Major: Miscellaneous Health Medical Professions<br />Total:  13386<br />Major_category: Other","ShareWomen: 0.4765<br />Median:  36000<br />Major: Public Administration<br />Total:   5629<br />Major_category: Other","ShareWomen: 0.5910<br />Median:  36000<br />Major: Geosciences<br />Total:   1978<br />Major_category: Other","ShareWomen: 0.7020<br />Median:  36000<br />Major: Social Psychology<br />Total:   1386<br />Major_category: Other","ShareWomen: 0.6700<br />Median:  35000<br />Major: Communications<br />Total: 213996<br />Major_category: Other","ShareWomen: 0.4750<br />Median:  35000<br />Major: Criminal Justice And Fire Protection<br />Total: 152824<br />Major_category: Other","ShareWomen: 0.6904<br />Median:  35000<br />Major: Commercial Art And Graphic Design<br />Total: 103480<br />Major_category: Other","ShareWomen: 0.6731<br />Median:  35000<br />Major: Journalism<br />Total:  72619<br />Major_category: Other","ShareWomen: 0.5646<br />Median:  35000<br />Major: Multi-Disciplinary Or General Science<br />Total:  62052<br />Major_category: Other","ShareWomen: 0.7581<br />Median:  35000<br />Major: Advertising And Public Relations<br />Total:  53162<br />Major_category: Other","ShareWomen: 0.4954<br />Median:  35000<br />Major: Criminology<br />Total:  19879<br />Major_category: Other","ShareWomen: 0.8645<br />Median:  35000<br />Major: Nutrition Sciences<br />Total:  18909<br />Major_category: Other","ShareWomen: 0.7644<br />Median:  35000<br />Major: Health And Medical Administrative Services<br />Total:  18109<br />Major_category: Other","ShareWomen: 0.3662<br />Median:  35000<br />Major: Communication Technologies<br />Total:  18035<br />Major_category: Other","ShareWomen: 0.1250<br />Median:  35000<br />Major: Transportation Sciences And Technologies<br />Total:  15150<br />Major_category: Other","ShareWomen: 0.3744<br />Median:  35000<br />Major: Natural Resources Management<br />Total:  13773<br />Major_category: Other","ShareWomen: 0.7709<br />Median:  35000<br />Major: Multi/Interdisciplinary Studies<br />Total:  12296<br />Major_category: Other","ShareWomen: 0.3213<br />Median:  35000<br />Major: Atmospheric Sciences And Meteorology<br />Total:   4043<br />Major_category: Other","ShareWomen: 0.1250<br />Median:  35000<br />Major: Forestry<br />Total:   3607<br />Major_category: Other","ShareWomen: 0.3051<br />Median:  35000<br />Major: Soil Science<br />Total:    685<br />Major_category: Other","ShareWomen: 0.7921<br />Median:  34000<br />Major: Community And Public Health<br />Total:  19735<br />Major_category: Other","ShareWomen: 0.5666<br />Median:  33500<br />Major: Health And Medical Preparatory Programs<br />Total:  12740<br />Major_category: Other","ShareWomen: 0.7184<br />Median:  33000<br />Major: Sociology<br />Total: 115433<br />Major_category: Other","ShareWomen: 0.5323<br />Median:  33000<br />Major: Mass Media<br />Total:  52824<br />Major_category: Other","ShareWomen: 0.7219<br />Median:  33000<br />Major: Treatment Therapy Professions<br />Total:  48491<br />Major_category: Other","ShareWomen: 0.6517<br />Median:  33000<br />Major: Hospitality Management<br />Total:  43647<br />Major_category: Other","ShareWomen: 0.7643<br />Median:  33000<br />Major: Interdisciplinary Social Sciences<br />Total:   9916<br />Major_category: Other","ShareWomen: 0.7746<br />Median:  32400<br />Major: General Medical And Health Services<br />Total:  33599<br />Major_category: Other","ShareWomen: 0.5028<br />Median:  32000<br />Major: Physical Fitness Parks Recreation And Leisure<br />Total: 125074<br />Major_category: Other","ShareWomen: 0.4232<br />Median:  32000<br />Major: Film Video And Photographic Arts<br />Total:  38761<br />Major_category: Other","ShareWomen: 0.6069<br />Median:  32000<br />Major: General Social Sciences<br />Total:  12920<br />Major_category: Other","ShareWomen: 0.3397<br />Median:  32000<br />Major: Plant Science And Agronomy<br />Total:   7416<br />Major_category: Other","ShareWomen: 0.7799<br />Median:  31500<br />Major: Psychology<br />Total: 393735<br />Major_category: Other","ShareWomen: 0.5067<br />Median:  31000<br />Major: Music<br />Total:  60633<br />Major_category: Other","ShareWomen: 0.6670<br />Median:  30500<br />Major: Fine Arts<br />Total:  74440<br />Major_category: Other","ShareWomen: 0.9109<br />Median:  30000<br />Major: Family And Consumer Sciences<br />Total:  58001<br />Major_category: Other","ShareWomen: 0.9041<br />Median:  30000<br />Major: Social Work<br />Total:  53552<br />Major_category: Other","ShareWomen: 0.7521<br />Median:  30000<br />Major: Animal Sciences<br />Total:  21573<br />Major_category: Other","ShareWomen: 0.7457<br />Median:  30000<br />Major: Visual And Performing Arts<br />Total:  16250<br />Major_category: Other","ShareWomen: 0.7989<br />Median:  30000<br />Major: Miscellaneous Psychology<br />Total:   9628<br />Major_category: Other","ShareWomen: 0.9056<br />Median:  30000<br />Major: Human Services And Community Organization<br />Total:   9374<br />Major_category: Other","ShareWomen: 0.7200<br />Median:  29000<br />Major: Studio Arts<br />Total:  16977<br />Major_category: Other","ShareWomen: 0.5848<br />Median:  29000<br />Major: Cosmetology Services And Culinary Arts<br />Total:  10510<br />Major_category: Other","ShareWomen: 0.7285<br />Median:  29000<br />Major: Miscellaneous Agriculture<br />Total:   1488<br />Major_category: Other","ShareWomen: 0.9680<br />Median:  28000<br />Major: Communication Disorders Sciences And Services<br />Total:  38279<br />Major_category: Other","ShareWomen: 0.6661<br />Median:  27000<br />Major: Drama And Theater Arts<br />Total:  43249<br />Major_category: Other","ShareWomen: 0.8171<br />Median:  25000<br />Major: Educational Psychology<br />Total:   2854<br />Major_category: Other","ShareWomen: 0.7999<br />Median:  25000<br />Major: Clinical Psychology<br />Total:   2838<br />Major_category: Other","ShareWomen: 0.7987<br />Median:  23400<br />Major: Counseling Psychology<br />Total:   4626<br />Major_category: Other"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":1,"size":[5.4759508383173,4.81618199236712,4.47926646169704,14.5504795331804,7.83488283677636,7.81073056355758,6.95824998301741,5.98798146363006,5.35460708794713,17.5513458523354,16.3481500461082,15.0018509445976,7.17518426133871,4.94956096923797,17.191743942266,11.8549930216586,9.50523377983436,9.13162833666724,7.50823495327167,6.98400863660445,6.04343245095754,5.76281465033948,5.06144755064948,6.87000532414052,3.77952755905512,5.57759356755492,8.78474582302634,18.3586684644425,8.57214888569934,8.34470092358228,7.74816235924924,7.29841597772069,6.76170158238161,5.33808329732043,5.25761176835267,5.06886674442186,4.6462786396585,11.517969533024,5.06745685970781,21.0756747147491,17.4126888984945,16.6380671956519,7.80870194495835,6.38222514071779,6.30193190327412,6.84773264909305,8.43787130059334,7.20528086982664,7.18640165711847,5.91499766193137,4.89470342239663,4.6196684952655,17.7022965037612,15.538526818271,13.4464474089422,11.8674698247218,11.2505121925996,10.6889284783683,7.96343910496721,7.85677606132006,7.76665999487051,7.75822112718094,7.4139781923939,7.23761184043293,7.03784324388165,5.54573529410379,5.42980685545267,4.04228101270817,7.9477771163739,7.09915952843046,13.9926366991285,10.6666733769479,10.3747246441983,10.0322287909285,6.68720678719001,9.25388051366352,14.412758803424,9.66661236039059,7.12369722087092,6.26620533114263,22.6771653543307,11.1637386574357,11.9690959183726,11.0000282962833,10.7145186967167,8.14346697315052,7.54894204314296,6.64186499371766,6.60127147430944,7.63554904531748,6.77856002519005,4.67311297997413,9.62930639754975,10.0032502695032,5.20759859092876,5.2025005968555,5.68978787144274],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"Other","legendgroup":"Other","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.077453027,0.0887378454303797,0.100022663860759,0.111307482291139,0.122592300721519,0.133877119151899,0.145161937582278,0.156446756012658,0.167731574443038,0.179016392873418,0.190301211303797,0.201586029734177,0.212870848164557,0.224155666594937,0.235440485025316,0.246725303455696,0.258010121886076,0.269294940316456,0.280579758746835,0.291864577177215,0.303149395607595,0.314434214037975,0.325719032468354,0.337003850898734,0.348288669329114,0.359573487759494,0.370858306189873,0.382143124620253,0.393427943050633,0.404712761481013,0.415997579911392,0.427282398341772,0.438567216772152,0.449852035202532,0.461136853632911,0.472421672063291,0.483706490493671,0.494991308924051,0.50627612735443,0.51756094578481,0.52884576421519,0.54013058264557,0.551415401075949,0.562700219506329,0.573985037936709,0.585269856367089,0.596554674797468,0.607839493227848,0.619124311658228,0.630409130088608,0.641693948518987,0.652978766949367,0.664263585379747,0.675548403810127,0.686833222240506,0.698118040670886,0.709402859101266,0.720687677531646,0.731972495962025,0.743257314392405,0.754542132822785,0.765826951253164,0.777111769683544,0.788396588113924,0.799681406544304,0.810966224974684,0.822251043405063,0.833535861835443,0.844820680265823,0.856105498696202,0.867390317126582,0.878675135556962,0.889959953987342,0.901244772417721,0.912529590848101,0.923814409278481,0.935099227708861,0.94638404613924,0.95766886456962,0.968953683],"y":[54238.8943351384,53882.0306341769,53525.1669332154,53168.3032322539,52811.4395312924,52454.5758303309,52097.7121293694,51740.8484284079,51383.9847274464,51027.121026485,50670.2573255235,50313.393624562,49956.5299236005,49599.666222639,49242.8025216775,48885.938820716,48529.0751197545,48172.211418793,47815.3477178316,47458.4840168701,47101.6203159086,46744.7566149471,46387.8929139856,46031.0292130241,45674.1655120626,45317.3018111011,44960.4381101396,44603.5744091782,44246.7107082167,43889.8470072552,43532.9833062937,43176.1196053322,42819.2559043707,42462.3922034092,42105.5285024477,41748.6648014862,41391.8011005248,41034.9373995633,40678.0736986018,40321.2099976403,39964.3462966788,39607.4825957173,39250.6188947558,38893.7551937943,38536.8914928328,38180.0277918713,37823.1640909098,37466.3003899484,37109.4366889869,36752.5729880254,36395.7092870639,36038.8455861024,35681.9818851409,35325.1181841794,34968.2544832179,34611.3907822565,34254.527081295,33897.6633803335,33540.799679372,33183.9359784105,32827.072277449,32470.2085764875,32113.344875526,31756.4811745645,31399.617473603,31042.7537726416,30685.8900716801,30329.0263707186,29972.1626697571,29615.2989687956,29258.4352678341,28901.5715668726,28544.7078659111,28187.8441649496,27830.9804639882,27474.1167630267,27117.2530620652,26760.3893611037,26403.5256601422,26046.6619591807],"text":["ShareWomen: 0.0775<br />Median: 54239","ShareWomen: 0.0887<br />Median: 53882","ShareWomen: 0.1000<br />Median: 53525","ShareWomen: 0.1113<br />Median: 53168","ShareWomen: 0.1226<br />Median: 52811","ShareWomen: 0.1339<br />Median: 52455","ShareWomen: 0.1452<br />Median: 52098","ShareWomen: 0.1564<br />Median: 51741","ShareWomen: 0.1677<br />Median: 51384","ShareWomen: 0.1790<br />Median: 51027","ShareWomen: 0.1903<br />Median: 50670","ShareWomen: 0.2016<br />Median: 50313","ShareWomen: 0.2129<br />Median: 49957","ShareWomen: 0.2242<br />Median: 49600","ShareWomen: 0.2354<br />Median: 49243","ShareWomen: 0.2467<br />Median: 48886","ShareWomen: 0.2580<br />Median: 48529","ShareWomen: 0.2693<br />Median: 48172","ShareWomen: 0.2806<br />Median: 47815","ShareWomen: 0.2919<br />Median: 47458","ShareWomen: 0.3031<br />Median: 47102","ShareWomen: 0.3144<br />Median: 46745","ShareWomen: 0.3257<br />Median: 46388","ShareWomen: 0.3370<br />Median: 46031","ShareWomen: 0.3483<br />Median: 45674","ShareWomen: 0.3596<br />Median: 45317","ShareWomen: 0.3709<br />Median: 44960","ShareWomen: 0.3821<br />Median: 44604","ShareWomen: 0.3934<br />Median: 44247","ShareWomen: 0.4047<br />Median: 43890","ShareWomen: 0.4160<br />Median: 43533","ShareWomen: 0.4273<br />Median: 43176","ShareWomen: 0.4386<br />Median: 42819","ShareWomen: 0.4499<br />Median: 42462","ShareWomen: 0.4611<br />Median: 42106","ShareWomen: 0.4724<br />Median: 41749","ShareWomen: 0.4837<br />Median: 41392","ShareWomen: 0.4950<br />Median: 41035","ShareWomen: 0.5063<br />Median: 40678","ShareWomen: 0.5176<br />Median: 40321","ShareWomen: 0.5288<br />Median: 39964","ShareWomen: 0.5401<br />Median: 39607","ShareWomen: 0.5514<br />Median: 39251","ShareWomen: 0.5627<br />Median: 38894","ShareWomen: 0.5740<br />Median: 38537","ShareWomen: 0.5853<br />Median: 38180","ShareWomen: 0.5966<br />Median: 37823","ShareWomen: 0.6078<br />Median: 37466","ShareWomen: 0.6191<br />Median: 37109","ShareWomen: 0.6304<br />Median: 36753","ShareWomen: 0.6417<br />Median: 36396","ShareWomen: 0.6530<br />Median: 36039","ShareWomen: 0.6643<br />Median: 35682","ShareWomen: 0.6755<br />Median: 35325","ShareWomen: 0.6868<br />Median: 34968","ShareWomen: 0.6981<br />Median: 34611","ShareWomen: 0.7094<br />Median: 34255","ShareWomen: 0.7207<br />Median: 33898","ShareWomen: 0.7320<br />Median: 33541","ShareWomen: 0.7433<br />Median: 33184","ShareWomen: 0.7545<br />Median: 32827","ShareWomen: 0.7658<br />Median: 32470","ShareWomen: 0.7771<br />Median: 32113","ShareWomen: 0.7884<br />Median: 31756","ShareWomen: 0.7997<br />Median: 31400","ShareWomen: 0.8110<br />Median: 31043","ShareWomen: 0.8223<br />Median: 30686","ShareWomen: 0.8335<br />Median: 30329","ShareWomen: 0.8448<br />Median: 29972","ShareWomen: 0.8561<br />Median: 29615","ShareWomen: 0.8674<br />Median: 29258","ShareWomen: 0.8787<br />Median: 28902","ShareWomen: 0.8900<br />Median: 28545","ShareWomen: 0.9012<br />Median: 28188","ShareWomen: 0.9125<br />Median: 27831","ShareWomen: 0.9238<br />Median: 27474","ShareWomen: 0.9351<br />Median: 27117","ShareWomen: 0.9464<br />Median: 26760","ShareWomen: 0.9577<br />Median: 26404","ShareWomen: 0.9690<br />Median: 26047"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.077453027,0.0887378454303797,0.100022663860759,0.111307482291139,0.122592300721519,0.133877119151899,0.145161937582278,0.156446756012658,0.167731574443038,0.179016392873418,0.190301211303797,0.201586029734177,0.212870848164557,0.224155666594937,0.235440485025316,0.246725303455696,0.258010121886076,0.269294940316456,0.280579758746835,0.291864577177215,0.303149395607595,0.314434214037975,0.325719032468354,0.337003850898734,0.348288669329114,0.359573487759494,0.370858306189873,0.382143124620253,0.393427943050633,0.404712761481013,0.415997579911392,0.427282398341772,0.438567216772152,0.449852035202532,0.461136853632911,0.472421672063291,0.483706490493671,0.494991308924051,0.50627612735443,0.51756094578481,0.52884576421519,0.54013058264557,0.551415401075949,0.562700219506329,0.573985037936709,0.585269856367089,0.596554674797468,0.607839493227848,0.619124311658228,0.630409130088608,0.641693948518987,0.652978766949367,0.664263585379747,0.675548403810127,0.686833222240506,0.698118040670886,0.709402859101266,0.720687677531646,0.731972495962025,0.743257314392405,0.754542132822785,0.765826951253164,0.777111769683544,0.788396588113924,0.799681406544304,0.810966224974684,0.822251043405063,0.833535861835443,0.844820680265823,0.856105498696202,0.867390317126582,0.878675135556962,0.889959953987342,0.901244772417721,0.912529590848101,0.923814409278481,0.935099227708861,0.94638404613924,0.95766886456962,0.968953683,0.968953683,0.968953683,0.95766886456962,0.94638404613924,0.935099227708861,0.923814409278481,0.912529590848101,0.901244772417721,0.889959953987342,0.878675135556962,0.867390317126582,0.856105498696202,0.844820680265823,0.833535861835443,0.822251043405063,0.810966224974684,0.799681406544304,0.788396588113924,0.777111769683544,0.765826951253164,0.754542132822785,0.743257314392405,0.731972495962025,0.720687677531646,0.709402859101266,0.698118040670886,0.686833222240506,0.675548403810127,0.664263585379747,0.652978766949367,0.641693948518987,0.630409130088608,0.619124311658228,0.607839493227848,0.596554674797468,0.585269856367089,0.573985037936709,0.562700219506329,0.551415401075949,0.54013058264557,0.52884576421519,0.51756094578481,0.50627612735443,0.494991308924051,0.483706490493671,0.472421672063291,0.461136853632911,0.449852035202532,0.438567216772152,0.427282398341772,0.415997579911392,0.404712761481013,0.393427943050633,0.382143124620253,0.370858306189873,0.359573487759494,0.348288669329114,0.337003850898734,0.325719032468354,0.314434214037975,0.303149395607595,0.291864577177215,0.280579758746835,0.269294940316456,0.258010121886076,0.246725303455696,0.235440485025316,0.224155666594937,0.212870848164557,0.201586029734177,0.190301211303797,0.179016392873418,0.167731574443038,0.156446756012658,0.145161937582278,0.133877119151899,0.122592300721519,0.111307482291139,0.100022663860759,0.0887378454303797,0.077453027,0.077453027],"y":[51251.4574460473,50954.251399195,50656.7162538351,50358.8311608425,50060.5736114769,49761.9192858897,49462.8418872894,49163.3129606337,48863.3016947296,48562.7747066718,48261.6958076699,47960.0257495049,47657.721951156,47354.7382055847,47051.0243672799,46746.5260220277,46441.1841415074,46134.9347268197,45827.7084469809,45519.4302808546,45210.0191740077,44899.3877256234,44587.4419249041,44274.0809612981,43959.1971382553,43642.6759257663,43324.3961921971,43004.2306601815,42682.0466335981,42357.7070416819,42031.0718406708,41701.9998015883,41370.3506936105,41035.9878454154,40698.7810325735,40358.6095996152,40015.3656849466,39668.9573810327,39319.3116379196,38966.3767116485,38610.1239748751,38250.5489460243,37887.6714521798,37521.5349120838,37152.2047988083,36779.7664061161,36404.3220894793,36025.9881771391,35644.8917478979,35261.1674538634,34874.9545340066,34486.394124922,34095.6269348054,33702.7913101049,33308.0216944221,32911.4474572016,32513.1920553559,32113.3724832307,31712.098963792,31309.4748351483,30905.5965901726,30500.554031968,30094.4305134352,29687.3032346753,29279.2435770579,28870.3174573188,28460.5856889328,28050.1043412554,27638.9250895632,27227.095551236,26814.6596049683,26401.6576911671,25988.1270926454,25574.1021954206,25159.6147299337,24744.6939933479,24329.3670538218,23913.6589377873,23497.5928013396,23081.190086871,23081.190086871,29012.1338314904,29309.4585189448,29607.11978442,29905.1390703085,30203.5395327054,30502.3461980426,30801.5861344786,31101.2886391769,31401.4854425781,31702.2109306999,32003.5023863552,32305.400249951,32607.9484001818,32911.1944544273,33215.1900879643,33519.9913701482,33825.6591144538,34132.2592376169,34439.8631210071,34748.5479647254,35058.3971216726,35369.500394952,35681.9542774362,35995.862107234,36311.3341073113,36628.4872720137,36947.445058254,37268.3368354764,37591.2970472829,37916.4640401212,38243.9785221874,38573.9816300759,38906.6126027577,39242.0060923404,39580.2891776266,39921.5781868574,40265.9754755048,40613.5663373318,40964.4162454103,41318.5686184825,41676.0432836321,42036.8357592839,42400.9174180938,42768.2365161029,43138.7200033573,43512.2759723219,43888.7965614031,44268.1611151309,44650.2394090761,45034.8947719166,45421.9869728284,45811.3747828352,46202.9181581748,46596.4800280822,46991.927696436,47389.13388587,47787.9774647502,48188.3439030671,48590.1255042708,48993.2214578095,49397.5377528855,49802.9869886822,50209.4881107664,50616.9660980016,51025.3516194043,51434.5806760751,51844.5942396933,52255.337896045,52666.7614996191,53078.818843377,53491.4673462982,53904.6677601633,54318.3838961821,54732.5823714495,55147.2323747721,55562.305451108,55977.7753036653,56393.6176125956,56809.8098691587,57226.3312242295,51251.4574460473],"text":["ShareWomen: 0.0775<br />Median: 54239","ShareWomen: 0.0887<br />Median: 53882","ShareWomen: 0.1000<br />Median: 53525","ShareWomen: 0.1113<br />Median: 53168","ShareWomen: 0.1226<br />Median: 52811","ShareWomen: 0.1339<br />Median: 52455","ShareWomen: 0.1452<br />Median: 52098","ShareWomen: 0.1564<br />Median: 51741","ShareWomen: 0.1677<br />Median: 51384","ShareWomen: 0.1790<br />Median: 51027","ShareWomen: 0.1903<br />Median: 50670","ShareWomen: 0.2016<br />Median: 50313","ShareWomen: 0.2129<br />Median: 49957","ShareWomen: 0.2242<br />Median: 49600","ShareWomen: 0.2354<br />Median: 49243","ShareWomen: 0.2467<br />Median: 48886","ShareWomen: 0.2580<br />Median: 48529","ShareWomen: 0.2693<br />Median: 48172","ShareWomen: 0.2806<br />Median: 47815","ShareWomen: 0.2919<br />Median: 47458","ShareWomen: 0.3031<br />Median: 47102","ShareWomen: 0.3144<br />Median: 46745","ShareWomen: 0.3257<br />Median: 46388","ShareWomen: 0.3370<br />Median: 46031","ShareWomen: 0.3483<br />Median: 45674","ShareWomen: 0.3596<br />Median: 45317","ShareWomen: 0.3709<br />Median: 44960","ShareWomen: 0.3821<br />Median: 44604","ShareWomen: 0.3934<br />Median: 44247","ShareWomen: 0.4047<br />Median: 43890","ShareWomen: 0.4160<br />Median: 43533","ShareWomen: 0.4273<br />Median: 43176","ShareWomen: 0.4386<br />Median: 42819","ShareWomen: 0.4499<br />Median: 42462","ShareWomen: 0.4611<br />Median: 42106","ShareWomen: 0.4724<br />Median: 41749","ShareWomen: 0.4837<br />Median: 41392","ShareWomen: 0.4950<br />Median: 41035","ShareWomen: 0.5063<br />Median: 40678","ShareWomen: 0.5176<br />Median: 40321","ShareWomen: 0.5288<br />Median: 39964","ShareWomen: 0.5401<br />Median: 39607","ShareWomen: 0.5514<br />Median: 39251","ShareWomen: 0.5627<br />Median: 38894","ShareWomen: 0.5740<br />Median: 38537","ShareWomen: 0.5853<br />Median: 38180","ShareWomen: 0.5966<br />Median: 37823","ShareWomen: 0.6078<br />Median: 37466","ShareWomen: 0.6191<br />Median: 37109","ShareWomen: 0.6304<br />Median: 36753","ShareWomen: 0.6417<br />Median: 36396","ShareWomen: 0.6530<br />Median: 36039","ShareWomen: 0.6643<br />Median: 35682","ShareWomen: 0.6755<br />Median: 35325","ShareWomen: 0.6868<br />Median: 34968","ShareWomen: 0.6981<br />Median: 34611","ShareWomen: 0.7094<br />Median: 34255","ShareWomen: 0.7207<br />Median: 33898","ShareWomen: 0.7320<br />Median: 33541","ShareWomen: 0.7433<br />Median: 33184","ShareWomen: 0.7545<br />Median: 32827","ShareWomen: 0.7658<br />Median: 32470","ShareWomen: 0.7771<br />Median: 32113","ShareWomen: 0.7884<br />Median: 31756","ShareWomen: 0.7997<br />Median: 31400","ShareWomen: 0.8110<br />Median: 31043","ShareWomen: 0.8223<br />Median: 30686","ShareWomen: 0.8335<br />Median: 30329","ShareWomen: 0.8448<br />Median: 29972","ShareWomen: 0.8561<br />Median: 29615","ShareWomen: 0.8674<br />Median: 29258","ShareWomen: 0.8787<br />Median: 28902","ShareWomen: 0.8900<br />Median: 28545","ShareWomen: 0.9012<br />Median: 28188","ShareWomen: 0.9125<br />Median: 27831","ShareWomen: 0.9238<br />Median: 27474","ShareWomen: 0.9351<br />Median: 27117","ShareWomen: 0.9464<br />Median: 26760","ShareWomen: 0.9577<br />Median: 26404","ShareWomen: 0.9690<br />Median: 26047","ShareWomen: 0.9690<br />Median: 26047","ShareWomen: 0.9690<br />Median: 26047","ShareWomen: 0.9577<br />Median: 26404","ShareWomen: 0.9464<br />Median: 26760","ShareWomen: 0.9351<br />Median: 27117","ShareWomen: 0.9238<br />Median: 27474","ShareWomen: 0.9125<br />Median: 27831","ShareWomen: 0.9012<br />Median: 28188","ShareWomen: 0.8900<br />Median: 28545","ShareWomen: 0.8787<br />Median: 28902","ShareWomen: 0.8674<br />Median: 29258","ShareWomen: 0.8561<br />Median: 29615","ShareWomen: 0.8448<br />Median: 29972","ShareWomen: 0.8335<br />Median: 30329","ShareWomen: 0.8223<br />Median: 30686","ShareWomen: 0.8110<br />Median: 31043","ShareWomen: 0.7997<br />Median: 31400","ShareWomen: 0.7884<br />Median: 31756","ShareWomen: 0.7771<br />Median: 32113","ShareWomen: 0.7658<br />Median: 32470","ShareWomen: 0.7545<br />Median: 32827","ShareWomen: 0.7433<br />Median: 33184","ShareWomen: 0.7320<br />Median: 33541","ShareWomen: 0.7207<br />Median: 33898","ShareWomen: 0.7094<br />Median: 34255","ShareWomen: 0.6981<br />Median: 34611","ShareWomen: 0.6868<br />Median: 34968","ShareWomen: 0.6755<br />Median: 35325","ShareWomen: 0.6643<br />Median: 35682","ShareWomen: 0.6530<br />Median: 36039","ShareWomen: 0.6417<br />Median: 36396","ShareWomen: 0.6304<br />Median: 36753","ShareWomen: 0.6191<br />Median: 37109","ShareWomen: 0.6078<br />Median: 37466","ShareWomen: 0.5966<br />Median: 37823","ShareWomen: 0.5853<br />Median: 38180","ShareWomen: 0.5740<br />Median: 38537","ShareWomen: 0.5627<br />Median: 38894","ShareWomen: 0.5514<br />Median: 39251","ShareWomen: 0.5401<br />Median: 39607","ShareWomen: 0.5288<br />Median: 39964","ShareWomen: 0.5176<br />Median: 40321","ShareWomen: 0.5063<br />Median: 40678","ShareWomen: 0.4950<br />Median: 41035","ShareWomen: 0.4837<br />Median: 41392","ShareWomen: 0.4724<br />Median: 41749","ShareWomen: 0.4611<br />Median: 42106","ShareWomen: 0.4499<br />Median: 42462","ShareWomen: 0.4386<br />Median: 42819","ShareWomen: 0.4273<br />Median: 43176","ShareWomen: 0.4160<br />Median: 43533","ShareWomen: 0.4047<br />Median: 43890","ShareWomen: 0.3934<br />Median: 44247","ShareWomen: 0.3821<br />Median: 44604","ShareWomen: 0.3709<br />Median: 44960","ShareWomen: 0.3596<br />Median: 45317","ShareWomen: 0.3483<br />Median: 45674","ShareWomen: 0.3370<br />Median: 46031","ShareWomen: 0.3257<br />Median: 46388","ShareWomen: 0.3144<br />Median: 46745","ShareWomen: 0.3031<br />Median: 47102","ShareWomen: 0.2919<br />Median: 47458","ShareWomen: 0.2806<br />Median: 47815","ShareWomen: 0.2693<br />Median: 48172","ShareWomen: 0.2580<br />Median: 48529","ShareWomen: 0.2467<br />Median: 48886","ShareWomen: 0.2354<br />Median: 49243","ShareWomen: 0.2242<br />Median: 49600","ShareWomen: 0.2129<br />Median: 49957","ShareWomen: 0.2016<br />Median: 50313","ShareWomen: 0.1903<br />Median: 50670","ShareWomen: 0.1790<br />Median: 51027","ShareWomen: 0.1677<br />Median: 51384","ShareWomen: 0.1564<br />Median: 51741","ShareWomen: 0.1452<br />Median: 52098","ShareWomen: 0.1339<br />Median: 52455","ShareWomen: 0.1226<br />Median: 52811","ShareWomen: 0.1113<br />Median: 53168","ShareWomen: 0.1000<br />Median: 53525","ShareWomen: 0.0887<br />Median: 53882","ShareWomen: 0.0775<br />Median: 54239","ShareWomen: 0.0775<br />Median: 54239"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"visible":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.6774595267746,"r":7.97011207970112,"b":46.2266500622665,"l":72.5280199252802},"font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"title":{"text":"Median income by the proportion of women in each major","font":{"color":"rgba(0,0,0,1)","family":"","size":19.1282689912827},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.0328779942,1.0135287158],"tickmode":"array","ticktext":["25%","50%","75%","100%"],"tickvals":[0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["25%","50%","75%","100%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.98505603985056,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.724555643609193,"zeroline":false,"anchor":"y","title":{"text":"Proportion of women with major","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5500,115500],"tickmode":"array","ticktext":["$0","$30,000","$60,000","$90,000"],"tickvals":[0,30000,60000,90000],"categoryorder":"array","categoryarray":["$0","$30,000","$60,000","$90,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.98505603985056,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.724555643609193,"zeroline":false,"anchor":"x","title":{"text":"Median","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":12.7521793275218},"title":{"text":"Total<br />Major_category","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"e5b7450f44d4":{"x":{},"y":{},"label":{},"size":{},"colour":{},"type":"scatter"},"e5b76d6fddb7":{"x":{},"y":{},"label":{}},"e5b74b455182":{"y":{}}},"cur_data":"e5b7450f44d4","visdat":{"e5b7450f44d4":["function (y) ","x"],"e5b76d6fddb7":["function (y) ","x"],"e5b74b455182":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Let’s run a regression analysis to see if the proportion of women in the major is correlated with salary. It looks like every percentage point increase in the proportion of women in a particular major is correlated with a $23,650 decrease in salary.</p>
<pre class="r"><code>lm(Median ~ ShareWomen, data = grads, weights = Sample_size) %&gt;% 
  summary()</code></pre>
<pre><code>## 
## Call:
## lm(formula = Median ~ ShareWomen, data = grads, weights = Sample_size)
## 
## Weighted Residuals:
##     Min      1Q  Median      3Q     Max 
## -260544  -61278  -13324   33834  865216 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept)    52079       1441   36.15   &lt;2e-16
## ShareWomen    -23660       2410   -9.82   &lt;2e-16
## 
## Residual standard error: 123000 on 169 degrees of freedom
## Multiple R-squared:  0.363,  Adjusted R-squared:  0.359 
## F-statistic: 96.4 on 1 and 169 DF,  p-value: &lt;2e-16</code></pre>
<p>Let’s run a similar analysis looking at the median income as a function of the percentage of majors getting a job requiring a college degree.</p>
<pre class="r"><code>grads %&gt;% 
  mutate(Major_category = fct_lump(Major_category, 4)) %&gt;%
  ggplot(aes(pct_college, Median)) + 
  geom_point(aes(size=Total, col=Major_category)) + 
  geom_smooth() + 
  scale_x_continuous(label=percent_format()) + 
  scale_y_continuous(label=dollar_format()) + 
  scale_size_continuous(label=number_format()) + 
  expand_limits(y=0) + 
  labs(x=&quot;% of Major&#39;s Grads Employed in Jobs Requiring a College Degree&quot;, 
       y=&quot;Median salary&quot;, 
       title=&quot;Median income by percent with jobs requiring a college degree&quot;, 
       caption=&quot;Adapted from @backerman150&quot;)</code></pre>
<p><img src="r-refresher-tidy-eda_files/figure-html/unnamed-chunk-41-1.png" width="960" /></p>
<p>Here’s Table 2 in the <a href="https://fivethirtyeight.com/features/the-economic-guide-to-picking-a-college-major/">FiveThirtyEight piece</a>. It uses the <code>mutate_at</code> function to run an arbitrary function on any number of variables defined in the <code>vars()</code> function. See the help for <code>?mutate_at</code> to learn more.</p>
<p><small></p>
<pre class="r"><code>library(DT)
grads %&gt;% 
  select(Major, Total, Median, P25th, P75th, Part_time, Non_college_jobs, Low_wage_jobs) %&gt;% 
  mutate_at(vars(Part_time, Non_college_jobs, Low_wage_jobs), funs(percent(./Total))) %&gt;% 
  mutate_at(vars(Median, P25th, P75th), funs(dollar)) %&gt;% 
  datatable()</code></pre>
<div id="htmlwidget-614f127cd654002e3aad" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-614f127cd654002e3aad">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171"],["Petroleum Engineering","Mining And Mineral Engineering","Metallurgical Engineering","Naval Architecture And Marine Engineering","Chemical Engineering","Nuclear Engineering","Actuarial Science","Astronomy And Astrophysics","Mechanical Engineering","Electrical Engineering","Computer Engineering","Aerospace Engineering","Biomedical Engineering","Materials Science","Engineering Mechanics Physics And Science","Biological Engineering","Industrial And Manufacturing Engineering","General Engineering","Architectural Engineering","Court Reporting","Computer Science","Electrical Engineering Technology","Materials Engineering And Materials Science","Management Information Systems And Statistics","Civil Engineering","Construction Services","Operations Logistics And E-Commerce","Miscellaneous Engineering","Public Policy","Environmental Engineering","Engineering Technologies","Miscellaneous Fine Arts","Geological And Geophysical Engineering","Nursing","Finance","Economics","Business Economics","Industrial Production Technologies","Nuclear, Industrial Radiology, And Biological Technologies","Accounting","Mathematics","Computer And Information Systems","Physics","Medical Technologies Technicians","Information Sciences","Statistics And Decision Science","Applied Mathematics","Pharmacology","Oceanography","Engineering And Industrial Management","Medical Assisting Services","Mathematics And Computer Science","Computer Programming And Data Processing","Cognitive Science And Biopsychology","School Student Counseling","International Relations","General Business","Architecture","International Business","Pharmacy Pharmaceutical Sciences And Administration","Molecular Biology","Miscellaneous Business &amp; Medical Administration","Agriculture Production And Management","General Agriculture","Miscellaneous Engineering Technologies","Mechanical Engineering Related Technologies","Genetics","Miscellaneous Social Sciences","United States History","Industrial And Organizational Psychology","Agricultural Economics","Physical Sciences","Chemistry","Electrical, Mechanical, And Precision Technologies And Production","Business Management And Administration","Marketing And Marketing Research","Political Science And Government","Geography","Microbiology","Computer Administration Management And Security","Biochemical Sciences","Botany","Computer Networking And Telecommunications","Geology And Earth Science","Human Resources And Personnel Management","Pre-Law And Legal Studies","Miscellaneous Health Medical Professions","Public Administration","Geosciences","Social Psychology","Environmental Science","Communications","Criminal Justice And Fire Protection","Commercial Art And Graphic Design","Journalism","Multi-Disciplinary Or General Science","Advertising And Public Relations","Area Ethnic And Civilization Studies","Special Needs Education","Physiology","Criminology","Nutrition Sciences","Health And Medical Administrative Services","Communication Technologies","Transportation Sciences And Technologies","Natural Resources Management","Neuroscience","Multi/Interdisciplinary Studies","Atmospheric Sciences And Meteorology","Forestry","Soil Science","General Education","History","French German Latin And Other Common Foreign Language Studies","Intercultural And International Studies","Social Science Or History Teacher Education","Community And Public Health","Mathematics Teacher Education","Educational Administration And Supervision","Health And Medical Preparatory Programs","Miscellaneous Biology","Biology","Sociology","Mass Media","Treatment Therapy Professions","Hospitality Management","Language And Drama Education","Linguistics And Comparative Language And Literature","Miscellaneous Education","Interdisciplinary Social Sciences","Ecology","Secondary Teacher Education","General Medical And Health Services","Philosophy And Religious Studies","Art And Music Education","English Language And Literature","Elementary Education","Physical Fitness Parks Recreation And Leisure","Liberal Arts","Film Video And Photographic Arts","General Social Sciences","Plant Science And Agronomy","Science And Computer Teacher Education","Psychology","Music","Physical And Health Education Teaching","Art History And Criticism","Fine Arts","Family And Consumer Sciences","Social Work","Animal Sciences","Visual And Performing Arts","Teacher Education: Multiple Levels","Miscellaneous Psychology","Human Services And Community Organization","Humanities","Theology And Religious Vocations","Studio Arts","Cosmetology Services And Culinary Arts","Miscellaneous Agriculture","Anthropology And Archeology","Communication Disorders Sciences And Services","Early Childhood Education","Other Foreign Languages","Drama And Theater Arts","Composition And Rhetoric","Zoology","Educational Psychology","Clinical Psychology","Counseling Psychology","Library Science"],[2339,756,856,1258,32260,2573,3777,1792,91227,81527,41542,15058,14955,4279,4321,8925,18968,61152,2825,1148,128319,11565,2993,18713,53153,18498,11732,9133,5978,4047,3600,3340,720,209394,174506,139247,13302,4631,2116,198633,72397,36698,32142,15914,11913,6251,4939,1762,2418,2906,11123,609,4168,3831,818,28187,234590,46420,25894,23551,18300,17947,14240,10399,8804,4790,3635,3283,3079,3014,2439,1436,66530,2435,329927,205211,182621,18480,15232,8066,39107,1329,7613,10972,24497,13528,13386,5629,1978,1386,25965,213996,152824,103480,72619,62052,53162,31195,28739,22060,19879,18909,18109,18035,15150,13773,13663,12296,4043,3607,685,143718,141951,48246,24650,20198,19735,14237,804,12740,10706,280709,115433,52824,48491,43647,30471,16601,10150,9916,9154,17125,33599,54814,34181,194673,170862,125074,71369,38761,12920,7416,6483,393735,60633,28213,21030,74440,58001,53552,21573,16250,14443,9628,9374,6652,30207,16977,10510,1488,38844,38279,37589,11204,43249,18953,8409,2854,2838,4626,1098],["$110,000","$75,000","$73,000","$70,000","$65,000","$65,000","$62,000","$62,000","$60,000","$60,000","$60,000","$60,000","$60,000","$60,000","$58,000","$57,100","$57,000","$56,000","$54,000","$54,000","$53,000","$52,000","$52,000","$51,000","$50,000","$50,000","$50,000","$50,000","$50,000","$50,000","$50,000","$50,000","$50,000","$48,000","$47,000","$47,000","$46,000","$46,000","$46,000","$45,000","$45,000","$45,000","$45,000","$45,000","$45,000","$45,000","$45,000","$45,000","$44,700","$44,000","$42,000","$42,000","$41,300","$41,000","$41,000","$40,100","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$40,000","$39,000","$38,400","$38,000","$38,000","$38,000","$38,000","$38,000","$37,500","$37,400","$37,000","$36,400","$36,200","$36,000","$36,000","$36,000","$36,000","$36,000","$36,000","$35,600","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$35,000","$34,000","$34,000","$34,000","$34,000","$34,000","$34,000","$34,000","$34,000","$33,500","$33,500","$33,400","$33,000","$33,000","$33,000","$33,000","$33,000","$33,000","$33,000","$33,000","$33,000","$32,500","$32,400","$32,200","$32,100","$32,000","$32,000","$32,000","$32,000","$32,000","$32,000","$32,000","$32,000","$31,500","$31,000","$31,000","$31,000","$30,500","$30,000","$30,000","$30,000","$30,000","$30,000","$30,000","$30,000","$30,000","$29,000","$29,000","$29,000","$29,000","$28,000","$28,000","$28,000","$27,500","$27,000","$27,000","$26,000","$25,000","$25,000","$23,400","$22,000"],["$95,000","$55,000","$50,000","$43,000","$50,000","$50,000","$53,000","$31,500","$48,000","$45,000","$45,000","$42,000","$36,000","$39,000","$25,000","$40,000","$37,900","$36,000","$38,000","$50,000","$39,000","$35,000","$35,000","$38,000","$40,000","$36,000","$40,000","$39,000","$35,000","$42,000","$43,000","$25,000","$42,800","$39,000","$35,000","$35,000","$33,000","$35,000","$38,000","$34,000","$33,000","$30,000","$30,000","$36,000","$32,500","$26,700","$34,000","$40,000","$23,000","$30,000","$30,000","$30,000","$20,000","$20,000","$41,000","$31,200","$30,000","$31,000","$30,000","$20,000","$29,000","$30,000","$25,000","$30,000","$30,400","$27,000","$34,000","$30,000","$30,000","$32,000","$27,000","$30,000","$30,000","$22,500","$29,000","$30,000","$28,000","$30,000","$29,600","$25,000","$29,000","$26,000","$27,000","$28,000","$28,000","$29,200","$23,000","$23,000","$21,000","$34,000","$25,000","$27,000","$26,000","$25,000","$26,000","$24,000","$27,000","$24,500","$32,000","$20,000","$25,000","$26,000","$27,000","$25,000","$22,000","$25,000","$30,000","$25,000","$28,000","$28,600","$18,500","$26,000","$25,000","$25,000","$24,000","$23,050","$21,000","$30,000","$29,000","$23,000","$23,000","$24,000","$25,000","$25,000","$24,000","$25,000","$24,000","$25,000","$30,000","$24,000","$23,000","$25,000","$25,000","$23,000","$25,000","$23,000","$23,400","$24,000","$25,000","$22,000","$27,000","$22,900","$28,000","$24,000","$22,300","$24,000","$23,000","$21,000","$22,900","$25,000","$22,000","$22,000","$24,000","$20,800","$24,000","$20,000","$22,000","$19,200","$20,000","$23,000","$20,000","$20,000","$21,000","$22,900","$19,200","$20,000","$20,000","$24,000","$25,000","$19,200","$20,000"],["$125,000","$90,000","$105,000","$80,000","$75,000","$102,000","$72,000","$109,000","$70,000","$72,000","$75,000","$70,000","$70,000","$65,000","$74,000","$76,000","$67,000","$69,000","$65,000","$54,000","$70,000","$60,000","$62,000","$60,000","$60,000","$60,000","$60,000","$65,000","$70,000","$56,000","$60,000","$66,000","$57,000","$58,000","$64,000","$65,000","$58,000","$65,000","$53,000","$56,000","$60,000","$60,000","$68,000","$50,000","$58,000","$60,000","$63,000","$45,000","$50,000","$50,000","$65,000","$78,000","$46,000","$60,000","$43,000","$53,000","$55,000","$50,000","$50,000","$90,000","$47,000","$51,000","$50,000","$50,000","$56,000","$52,000","$45,000","$54,000","$42,000","$53,000","$54,000","$55,000","$49,900","$45,000","$50,000","$50,000","$50,000","$50,000","$50,000","$50,000","$50,000","$40,000","$49,000","$47,000","$45,000","$46,000","$42,000","$60,000","$41,000","$45,000","$40,200","$45,000","$45,000","$45,000","$42,900","$50,000","$47,000","$44,000","$42,000","$50,000","$45,000","$45,000","$42,000","$45,000","$52,000","$42,000","$44,000","$44,000","$50,000","$48,000","$44,000","$41,000","$47,000","$45,000","$45,000","$42,000","$45,000","$40,000","$35,000","$40,000","$48,000","$45,000","$44,000","$45,000","$41,000","$42,000","$40,000","$40,000","$45,000","$40,000","$42,000","$38,000","$45,000","$47,100","$40,000","$41,000","$38,000","$43,000","$42,000","$42,000","$50,000","$40,000","$39,000","$41,000","$42,000","$40,000","$40,000","$41,000","$40,000","$35,000","$40,000","$40,000","$37,000","$40,000","$35,000","$49,000","$38,000","$38,300","$36,000","$42,100","$38,000","$40,000","$35,000","$38,000","$35,000","$35,000","$39,000","$34,000","$40,000","$26,000","$22,000"],["11.5434%","22.4868%","15.5374%","11.9237%","16.0570%","10.2604%","7.8369%","30.8594%","14.3609%","15.5715%","12.3875%","18.0901%","18.0140%","20.5188%","18.7688%","22.2185%","11.8252%","11.7723%","12.1416%","19.4251%","14.5933%","16.1954%","34.7477%","12.9322%","18.9641%","9.4659%","10.0835%","18.1977%","21.8468%","22.9800%","19.1389%","31.9461%","17.5000%","19.4934%","12.2993%","18.1871%","14.5617%","12.8914%","27.3629%","13.9418%","24.9720%","11.8045%","27.1327%","16.7463%","12.3227%","29.4353%","23.8105%","30.1930%","15.6741%","15.8981%","36.9235%","0.0000%","11.5643%","18.5591%","16.5037%","19.7360%","15.4487%","21.9862%","18.8847%","22.6997%","25.0820%","18.7552%","15.4213%","19.5307%","14.0845%","5.1566%","23.3012%","27.6272%","27.2491%","36.3305%","25.4203%","30.4318%","22.6454%","11.7864%","15.2631%","17.4596%","23.9354%","30.5790%","22.1836%","12.7697%","25.4379%","12.7163%","19.0070%","26.5494%","15.3774%","26.5745%","30.9652%","15.0471%","17.8969%","31.2410%","27.2328%","23.3131%","21.0975%","23.5669%","21.8979%","21.1645%","20.5937%","30.5850%","17.9303%","29.6510%","22.8533%","35.1579%","18.2175%","26.0050%","17.3795%","18.9719%","22.5280%","25.8051%","32.3769%","24.7020%","27.0073%","20.5667%","28.6416%","30.1973%","32.3651%","25.5867%","32.3131%","15.9654%","0.0000%","30.5416%","23.9865%","25.7815%","25.6764%","24.7577%","25.4604%","17.1696%","23.7570%","29.1007%","21.6946%","28.5801%","29.9432%","22.0847%","33.0010%","30.3919%","26.9419%","29.7037%","22.2197%","30.7938%","26.8842%","33.0693%","26.2848%","16.8015%","18.9264%","29.2511%","41.1377%","25.6265%","29.1964%","31.7786%","27.3650%","25.1737%","24.8134%","38.4800%","15.3292%","33.4545%","25.6561%","33.4486%","29.0231%","33.4158%","19.6384%","22.5134%","37.3674%","36.2131%","18.6251%","32.8900%","36.9812%","34.8863%","26.0435%","20.0420%","22.8330%","20.8604%","21.5847%"],["15.5622%","33.9947%","20.5607%","8.1081%","13.7632%","25.5344%","8.3135%","27.9018%","17.9596%","13.3379%","13.7716%","16.1044%","16.5229%","9.1376%","21.9162%","17.8711%","17.0550%","19.1883%","22.9735%","45.9930%","20.0025%","23.2252%","10.1904%","30.6792%","17.6020%","28.9275%","30.9325%","26.5630%","31.2981%","20.5090%","35.2500%","51.3174%","6.9444%","12.4865%","27.7624%","26.6124%","34.6715%","52.9907%","69.7070%","19.7968%","20.4829%","32.1080%","14.2368%","45.0924%","34.4330%","19.1969%","16.2584%","27.1283%","41.1911%","29.0434%","62.4652%","11.0016%","24.7841%","24.0407%","27.0171%","33.9518%","42.9818%","29.5648%","36.6185%","19.0777%","17.1858%","49.7966%","43.6868%","45.3601%","44.2526%","44.2797%","18.6520%","50.3807%","51.6726%","40.6105%","36.6134%","32.3816%","22.1224%","68.1314%","44.9781%","45.7524%","36.6590%","36.9589%","20.8377%","40.2182%","21.4642%","13.8450%","38.6313%","25.4466%","39.3069%","47.7085%","28.6493%","41.0908%","29.8787%","42.7850%","38.8061%","45.7784%","58.1440%","36.8371%","36.7287%","35.5170%","43.3750%","37.8843%","13.2120%","31.2511%","53.3478%","28.9439%","47.4460%","48.7607%","40.5743%","42.1695%","16.8411%","31.7420%","32.5748%","46.9088%","21.0219%","21.6479%","38.4421%","37.7088%","41.9594%","27.5324%","37.4208%","13.8864%","25.6219%","27.7786%","25.4250%","28.8943%","42.3614%","47.8892%","30.1417%","53.4768%","22.3951%","34.3052%","24.0197%","39.3909%","45.4337%","23.1650%","38.3613%","37.0581%","24.1655%","36.8962%","21.6385%","51.1265%","40.0146%","53.4584%","36.9814%","47.8020%","17.0600%","36.0293%","47.4758%","33.0628%","46.3053%","43.9616%","34.7115%","26.9196%","44.3656%","46.9846%","13.4944%","41.0054%","49.0186%","50.4209%","39.8484%","51.2870%","70.2569%","42.0699%","42.9745%","24.5670%","20.4980%","33.0507%","58.5285%","42.7373%","35.0458%","21.5487%","30.6554%","26.9131%","30.7832%"],["8.2514%","6.6138%","0.0000%","0.0000%","3.0130%","9.4831%","6.8573%","12.2768%","3.5658%","3.8883%","2.3591%","2.4704%","5.2758%","1.8930%","6.0866%","5.8711%","3.3741%","5.2198%","4.8496%","12.5436%","4.0088%","6.0182%","2.3388%","3.7835%","5.4541%","3.8004%","2.4293%","3.9965%","5.6875%","6.4245%","3.9444%","22.6048%","6.8056%","2.9576%","5.6789%","7.6504%","9.6527%","10.3649%","5.8601%","5.4805%","6.3110%","4.5561%","5.6717%","6.2963%","5.1037%","5.4871%","7.2282%","5.2781%","7.6923%","8.4308%","11.4178%","4.1051%","6.3100%","3.5239%","0.0000%","8.8658%","11.6459%","9.0931%","11.7633%","4.7599%","6.3825%","9.7955%","9.5646%","8.0681%","4.3844%","8.4760%","5.5296%","17.4535%","9.8084%","9.0246%","3.8540%","18.7326%","6.4452%","3.3265%","9.8188%","13.6289%","10.8438%","10.3084%","8.1801%","3.8185%","7.7019%","4.2137%","4.6237%","8.7404%","7.7805%","9.8758%","10.6230%","8.8115%","11.1729%","2.6696%","12.2280%","12.8227%","12.0426%","14.3400%","11.7215%","9.2680%","13.5698%","11.7871%","4.1024%","10.1405%","9.5327%","12.9515%","7.6813%","13.8342%","3.6766%","10.2011%","6.6018%","8.6288%","5.8620%","9.0657%","0.0000%","7.9621%","11.8625%","10.9170%","12.8519%","8.9415%","9.3945%","5.5208%","13.8060%","9.0973%","4.2873%","10.0955%","11.9099%","12.1706%","9.2141%","20.7643%","9.2514%","12.5595%","6.4729%","14.8245%","10.6620%","8.0876%","11.3575%","14.6879%","8.0951%","13.6141%","6.7317%","13.4624%","12.6526%","15.1234%","12.6471%","16.5992%","9.1161%","12.2435%","15.3151%","7.2378%","16.2910%","15.9592%","9.0481%","8.1117%","9.8503%","17.4769%","4.9990%","17.1375%","7.7235%","17.1527%","10.9379%","21.1227%","30.0951%","2.0833%","17.6758%","13.3885%","7.6299%","9.9518%","25.5913%","18.2873%","8.8358%","2.8732%","21.9168%","6.6580%","17.4863%"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Major<\/th>\n      <th>Total<\/th>\n      <th>Median<\/th>\n      <th>P25th<\/th>\n      <th>P75th<\/th>\n      <th>Part_time<\/th>\n      <th>Non_college_jobs<\/th>\n      <th>Low_wage_jobs<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p></small></p>
</div>
</div>

<div class="footer">
This work is licensed under the  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0 Creative Commons License</a>.<br>
<!-- For more information, visit <a href="http://data.hsl.virginia.edu/" target="_blank">data.hsl.virginia.edu</a>.<br> -->
<a href="https://twitter.com/strnr" target="_blank"><i class="fa fa-twitter fa-lg"></i></a>&nbsp;
<a href="https://github.com/thriv/biodatasci" target="_blank"><i class="fa fa-github fa-lg"></i></a>&nbsp;
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
